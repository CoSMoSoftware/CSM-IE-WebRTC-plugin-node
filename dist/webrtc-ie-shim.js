(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.webrtcIeShim = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

// TODO: Check if we are in correct IE version

// Add objects to global
var MediaDevices = require("./lib/MediaDevices.js");
var VideoRenderer = require("./lib/VideoRenderer.js");
navigator.mediaDevices = new MediaDevices();

window.RTCPeerConnection = require("./lib/RTCPeerConnection.js");
window.MediaStream = require("./lib/MediaStream.js");
window.MediaStreamTrack = require("./lib/MediaStreamTrack.js");

function checkNewNode(node) {
	//If it is a video element
	if (node.nodeName === 'video')
		// Observe changes in the video element
		return VideoRenderer.handle(node);
	//Look in childs
	for (var j = 0; j < node.childNodes.length; j++) {
		checkNewNode(node.childNodes.item(j));
	}
}

function checkRemovedNode(node) {
	//If it is a video element
	if (node.nodeName === 'video') return VideoRenderer.unhandle(node);
	//Look in childs
	for (var j = 0; j < node.childNodes.length; j++) {
		checkRemovedNode(node.childNodes.item(j));
	}
}

// DOM mutation observer to check when a new video element has been added to the DOM
var domObserver = new MutationObserver(function (mutations) {
	for (var i = 0, numMutations = mutations.length; i < numMutations; i++) {
		var mutation = mutations[i];

		// Check if there has been addition or deletion of nodes
		if (mutation.type !== 'childList') continue;

		// Check added nodes.
		for (var j = 0, numNodes = mutation.addedNodes.length; j < numNodes; j++) {
			//Check node recursively
			checkNewNode(mutation.addedNodes[j]);
		} // Check removed nodes.
		for (j = 0, numNodes = mutation.removedNodes.length; j < numNodes; j++) {
			//Check node recursively
			checkRemovedNode(mutation.removedNodes[j]);
		}
	}
});

//Get all video elements already present
var videos = document.getElementsByTagName("video");

//Handle them
for (var i = 0; i < videos.length; ++i) {
	VideoRenderer.handle(videos[i]);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIk1lZGlhRGV2aWNlcyIsInJlcXVpcmUiLCJWaWRlb1JlbmRlcmVyIiwibmF2aWdhdG9yIiwibWVkaWFEZXZpY2VzIiwid2luZG93IiwiUlRDUGVlckNvbm5lY3Rpb24iLCJNZWRpYVN0cmVhbSIsIk1lZGlhU3RyZWFtVHJhY2siLCJjaGVja05ld05vZGUiLCJub2RlIiwibm9kZU5hbWUiLCJoYW5kbGUiLCJqIiwiY2hpbGROb2RlcyIsImxlbmd0aCIsIml0ZW0iLCJjaGVja1JlbW92ZWROb2RlIiwidW5oYW5kbGUiLCJkb21PYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJtdXRhdGlvbnMiLCJpIiwibnVtTXV0YXRpb25zIiwibXV0YXRpb24iLCJ0eXBlIiwibnVtTm9kZXMiLCJhZGRlZE5vZGVzIiwicmVtb3ZlZE5vZGVzIiwidmlkZW9zIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSJdLCJtYXBwaW5ncyI6Ijs7QUFDQTs7QUFFQTtBQUNBLElBQUlBLGVBQWdCQyxRQUFRLHVCQUFSLENBQXBCO0FBQ0EsSUFBSUMsZ0JBQWlCRCxRQUFRLHdCQUFSLENBQXJCO0FBQ0FFLFVBQVVDLFlBQVYsR0FBMEIsSUFBSUosWUFBSixFQUExQjs7QUFFQUssT0FBT0MsaUJBQVAsR0FBMkJMLFFBQVEsNEJBQVIsQ0FBM0I7QUFDQUksT0FBT0UsV0FBUCxHQUFzQk4sUUFBUSxzQkFBUixDQUF0QjtBQUNBSSxPQUFPRyxnQkFBUCxHQUEyQlAsUUFBUSwyQkFBUixDQUEzQjs7QUFHQSxTQUFTUSxZQUFULENBQXNCQyxJQUF0QixFQUNBO0FBQ0M7QUFDQSxLQUFJQSxLQUFLQyxRQUFMLEtBQWtCLE9BQXRCO0FBQ0M7QUFDQSxTQUFPVCxjQUFjVSxNQUFkLENBQXFCRixJQUFyQixDQUFQO0FBQ0Q7QUFDQSxNQUFLLElBQUlHLElBQUksQ0FBYixFQUFnQkEsSUFBSUgsS0FBS0ksVUFBTCxDQUFnQkMsTUFBcEMsRUFBNENGLEdBQTVDO0FBQ0NKLGVBQWFDLEtBQUtJLFVBQUwsQ0FBZ0JFLElBQWhCLENBQXFCSCxDQUFyQixDQUFiO0FBREQ7QUFFQTs7QUFFRCxTQUFTSSxnQkFBVCxDQUEwQlAsSUFBMUIsRUFDQTtBQUNDO0FBQ0EsS0FBSUEsS0FBS0MsUUFBTCxLQUFrQixPQUF0QixFQUNDLE9BQU9ULGNBQWNnQixRQUFkLENBQXVCUixJQUF2QixDQUFQO0FBQ0Q7QUFDQSxNQUFLLElBQUlHLElBQUksQ0FBYixFQUFnQkEsSUFBSUgsS0FBS0ksVUFBTCxDQUFnQkMsTUFBcEMsRUFBNENGLEdBQTVDO0FBQ0NJLG1CQUFpQlAsS0FBS0ksVUFBTCxDQUFnQkUsSUFBaEIsQ0FBcUJILENBQXJCLENBQWpCO0FBREQ7QUFFQTs7QUFFRDtBQUNBLElBQUlNLGNBQWMsSUFBSUMsZ0JBQUosQ0FBcUIsVUFBVUMsU0FBVixFQUFxQjtBQUMzRCxNQUFLLElBQUlDLElBQUksQ0FBUixFQUFXQyxlQUFlRixVQUFVTixNQUF6QyxFQUFpRE8sSUFBSUMsWUFBckQsRUFBbUVELEdBQW5FLEVBQ0E7QUFDQyxNQUFJRSxXQUFXSCxVQUFVQyxDQUFWLENBQWY7O0FBRUE7QUFDQSxNQUFJRSxTQUFTQyxJQUFULEtBQWtCLFdBQXRCLEVBQ0M7O0FBRUQ7QUFDQSxPQUFLLElBQUlaLElBQUksQ0FBUixFQUFXYSxXQUFXRixTQUFTRyxVQUFULENBQW9CWixNQUEvQyxFQUF1REYsSUFBSWEsUUFBM0QsRUFBcUViLEdBQXJFO0FBQ0M7QUFDQUosZ0JBQWFlLFNBQVNHLFVBQVQsQ0FBb0JkLENBQXBCLENBQWI7QUFGRCxHQVJELENBWUM7QUFDQSxPQUFLQSxJQUFJLENBQUosRUFBT2EsV0FBV0YsU0FBU0ksWUFBVCxDQUFzQmIsTUFBN0MsRUFBcURGLElBQUlhLFFBQXpELEVBQW1FYixHQUFuRTtBQUNDO0FBQ0FJLG9CQUFpQk8sU0FBU0ksWUFBVCxDQUFzQmYsQ0FBdEIsQ0FBakI7QUFGRDtBQUdBO0FBQ0QsQ0FuQmlCLENBQWxCOztBQXFCQTtBQUNBLElBQUlnQixTQUFTQyxTQUFTQyxvQkFBVCxDQUE4QixPQUE5QixDQUFiOztBQUVBO0FBQ0EsS0FBSyxJQUFJVCxJQUFFLENBQVgsRUFBY0EsSUFBRU8sT0FBT2QsTUFBdkIsRUFBK0IsRUFBRU8sQ0FBakM7QUFDQ3BCLGVBQWNVLE1BQWQsQ0FBcUJpQixPQUFPUCxDQUFQLENBQXJCO0FBREQiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuLy8gVE9ETzogQ2hlY2sgaWYgd2UgYXJlIGluIGNvcnJlY3QgSUUgdmVyc2lvblxyXG5cclxuLy8gQWRkIG9iamVjdHMgdG8gZ2xvYmFsXHJcbnZhciBNZWRpYURldmljZXNcdCA9IHJlcXVpcmUoXCIuL2xpYi9NZWRpYURldmljZXMuanNcIik7XHJcbnZhciBWaWRlb1JlbmRlcmVyXHQgPSByZXF1aXJlKFwiLi9saWIvVmlkZW9SZW5kZXJlci5qc1wiKTtcclxubmF2aWdhdG9yLm1lZGlhRGV2aWNlc1x0ID0gbmV3IE1lZGlhRGV2aWNlcygpO1xyXG5cclxud2luZG93LlJUQ1BlZXJDb25uZWN0aW9uID0gcmVxdWlyZShcIi4vbGliL1JUQ1BlZXJDb25uZWN0aW9uLmpzXCIpO1xyXG53aW5kb3cuTWVkaWFTdHJlYW1cdCA9IHJlcXVpcmUoXCIuL2xpYi9NZWRpYVN0cmVhbS5qc1wiKTtcclxud2luZG93Lk1lZGlhU3RyZWFtVHJhY2tcdCA9IHJlcXVpcmUoXCIuL2xpYi9NZWRpYVN0cmVhbVRyYWNrLmpzXCIpO1xyXG5cclxuXHJcbmZ1bmN0aW9uIGNoZWNrTmV3Tm9kZShub2RlKSBcclxue1xyXG5cdC8vSWYgaXQgaXMgYSB2aWRlbyBlbGVtZW50XHJcblx0aWYgKG5vZGUubm9kZU5hbWUgPT09ICd2aWRlbycpIFxyXG5cdFx0Ly8gT2JzZXJ2ZSBjaGFuZ2VzIGluIHRoZSB2aWRlbyBlbGVtZW50XHJcblx0XHRyZXR1cm4gVmlkZW9SZW5kZXJlci5oYW5kbGUobm9kZSk7XHJcblx0Ly9Mb29rIGluIGNoaWxkc1xyXG5cdGZvciAodmFyIGogPSAwOyBqIDwgbm9kZS5jaGlsZE5vZGVzLmxlbmd0aDsgaisrKSBcclxuXHRcdGNoZWNrTmV3Tm9kZShub2RlLmNoaWxkTm9kZXMuaXRlbShqKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoZWNrUmVtb3ZlZE5vZGUobm9kZSlcclxue1xyXG5cdC8vSWYgaXQgaXMgYSB2aWRlbyBlbGVtZW50XHJcblx0aWYgKG5vZGUubm9kZU5hbWUgPT09ICd2aWRlbycpIFxyXG5cdFx0cmV0dXJuIFZpZGVvUmVuZGVyZXIudW5oYW5kbGUobm9kZSk7XHJcblx0Ly9Mb29rIGluIGNoaWxkc1xyXG5cdGZvciAodmFyIGogPSAwOyBqIDwgbm9kZS5jaGlsZE5vZGVzLmxlbmd0aDsgaisrKSBcclxuXHRcdGNoZWNrUmVtb3ZlZE5vZGUobm9kZS5jaGlsZE5vZGVzLml0ZW0oaikpO1xyXG59XHJcblxyXG4vLyBET00gbXV0YXRpb24gb2JzZXJ2ZXIgdG8gY2hlY2sgd2hlbiBhIG5ldyB2aWRlbyBlbGVtZW50IGhhcyBiZWVuIGFkZGVkIHRvIHRoZSBET01cclxudmFyIGRvbU9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykge1xyXG5cdGZvciAodmFyIGkgPSAwLCBudW1NdXRhdGlvbnMgPSBtdXRhdGlvbnMubGVuZ3RoOyBpIDwgbnVtTXV0YXRpb25zOyBpKyspXHJcblx0e1xyXG5cdFx0dmFyIG11dGF0aW9uID0gbXV0YXRpb25zW2ldO1xyXG5cclxuXHRcdC8vIENoZWNrIGlmIHRoZXJlIGhhcyBiZWVuIGFkZGl0aW9uIG9yIGRlbGV0aW9uIG9mIG5vZGVzXHJcblx0XHRpZiAobXV0YXRpb24udHlwZSAhPT0gJ2NoaWxkTGlzdCcpXHJcblx0XHRcdGNvbnRpbnVlO1xyXG5cclxuXHRcdC8vIENoZWNrIGFkZGVkIG5vZGVzLlxyXG5cdFx0Zm9yICh2YXIgaiA9IDAsIG51bU5vZGVzID0gbXV0YXRpb24uYWRkZWROb2Rlcy5sZW5ndGg7IGogPCBudW1Ob2RlczsgaisrKVxyXG5cdFx0XHQvL0NoZWNrIG5vZGUgcmVjdXJzaXZlbHlcclxuXHRcdFx0Y2hlY2tOZXdOb2RlKG11dGF0aW9uLmFkZGVkTm9kZXNbal0pO1xyXG5cclxuXHRcdC8vIENoZWNrIHJlbW92ZWQgbm9kZXMuXHJcblx0XHRmb3IgKGogPSAwLCBudW1Ob2RlcyA9IG11dGF0aW9uLnJlbW92ZWROb2Rlcy5sZW5ndGg7IGogPCBudW1Ob2RlczsgaisrKSBcclxuXHRcdFx0Ly9DaGVjayBub2RlIHJlY3Vyc2l2ZWx5XHJcblx0XHRcdGNoZWNrUmVtb3ZlZE5vZGUobXV0YXRpb24ucmVtb3ZlZE5vZGVzW2pdKTtcclxuXHR9XHJcbn0pO1xyXG5cclxuLy9HZXQgYWxsIHZpZGVvIGVsZW1lbnRzIGFscmVhZHkgcHJlc2VudFxyXG52YXIgdmlkZW9zID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ2aWRlb1wiKTtcclxuXHJcbi8vSGFuZGxlIHRoZW1cclxuZm9yICh2YXIgaT0wOyBpPHZpZGVvcy5sZW5ndGg7ICsraSlcclxuXHRWaWRlb1JlbmRlcmVyLmhhbmRsZSh2aWRlb3NbaV0pOyJdfQ==
},{"./lib/MediaDevices.js":2,"./lib/MediaStream.js":3,"./lib/MediaStreamTrack.js":4,"./lib/RTCPeerConnection.js":6,"./lib/VideoRenderer.js":8}],2:[function(require,module,exports){
"use strict";

var WebRTCProxy = require("./WebRTCProxy.js");
var MediaStream = require("./MediaStream.js");
var Promise = require("promise-polyfill");
var EventTarget = require("event-target-shim/dist/event-target-shim.umd.js").EventTarget;
var defineEventAttribute = require("event-target-shim/dist/event-target-shim.umd.js").defineEventAttribute;

/*
	interface MediaDevices : EventTarget {
		attribute EventHandler ondevicechange;
		Promise<sequence<MediaDeviceInfo>> enumerateDevices();
	}

	partial interface MediaDevices {
		MediaTrackSupportedConstraints getSupportedConstraints();
		Promise<MediaStream>           getUserMedia(optional MediaStreamConstraints constraints);
	}
*/
var MediaDevices = function MediaDevices() {
	//Init event targetr
	EventTarget.call(this);
};

//Inherit from Event Target
MediaDevices.prototype = Object.create(EventTarget.prototype, {
	constructor: {
		value: MediaDevices,
		configurable: true,
		writable: true
	}
});

// Define Event Handlers
defineEventAttribute(MediaDevices.prototype, "devicechange");

MediaDevices.prototype.enumerateDevices = function () {
	throw "Not supported yet";

	return new Promise(function (resolve, reject) {
		resolve([]);
	});
};

MediaDevices.prototype.getSupportedConstraints = function () {
	throw "Not supported yet";
};

MediaDevices.prototype.getUserMedia = function (constraints) {
	return new Promise(function (resolve, reject) {
		var stream = new MediaStream();
		//If we are being requested audio
		if (constraints.audio) {
			var options = {};
			//Get new track
			var track = WebRTCProxy.createLocalAudioTrack(options);
			//Add it to the stream
			stream.addTrack(new MediaStreamTrack(track));
		}
		//If we are being requested video
		if (constraints.video) {
			var options = {};
			//Get new track
			var track = WebRTCProxy.createLocalVideoTrack(options);
			//Add it to the stream
			stream.addTrack(new MediaStreamTrack(track));
		}
		//Done
		resolve(stream);
	});
};

module.exports = MediaDevices;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1lZGlhRGV2aWNlcy5qcyJdLCJuYW1lcyI6WyJXZWJSVENQcm94eSIsInJlcXVpcmUiLCJNZWRpYVN0cmVhbSIsIlByb21pc2UiLCJFdmVudFRhcmdldCIsImRlZmluZUV2ZW50QXR0cmlidXRlIiwiTWVkaWFEZXZpY2VzIiwiY2FsbCIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsImNvbnN0cnVjdG9yIiwidmFsdWUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImVudW1lcmF0ZURldmljZXMiLCJyZXNvbHZlIiwicmVqZWN0IiwiZ2V0U3VwcG9ydGVkQ29uc3RyYWludHMiLCJnZXRVc2VyTWVkaWEiLCJjb25zdHJhaW50cyIsInN0cmVhbSIsImF1ZGlvIiwib3B0aW9ucyIsInRyYWNrIiwiY3JlYXRlTG9jYWxBdWRpb1RyYWNrIiwiYWRkVHJhY2siLCJNZWRpYVN0cmVhbVRyYWNrIiwidmlkZW8iLCJjcmVhdGVMb2NhbFZpZGVvVHJhY2siLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLGNBQWdCQyxRQUFRLGtCQUFSLENBQXBCO0FBQ0EsSUFBSUMsY0FBZ0JELFFBQVEsa0JBQVIsQ0FBcEI7QUFDQSxJQUFJRSxVQUFZRixRQUFRLGtCQUFSLENBQWhCO0FBQ0EsSUFBSUcsY0FBZ0JILFFBQVEsaURBQVIsRUFBMkRHLFdBQS9FO0FBQ0EsSUFBSUMsdUJBQXVCSixRQUFRLGlEQUFSLEVBQTJESSxvQkFBdEY7O0FBRUE7Ozs7Ozs7Ozs7O0FBV0EsSUFBSUMsZUFBZSxTQUFmQSxZQUFlLEdBQ25CO0FBQ0M7QUFDQUYsYUFBWUcsSUFBWixDQUFpQixJQUFqQjtBQUVBLENBTEQ7O0FBT0E7QUFDQUQsYUFBYUUsU0FBYixHQUF5QkMsT0FBT0MsTUFBUCxDQUFjTixZQUFZSSxTQUExQixFQUFxQztBQUM3REcsY0FBYTtBQUNaQyxTQUFTTixZQURHO0FBRVpPLGdCQUFlLElBRkg7QUFHWkMsWUFBVztBQUhDO0FBRGdELENBQXJDLENBQXpCOztBQVFBO0FBQ0FULHFCQUFxQkMsYUFBYUUsU0FBbEMsRUFBNkMsY0FBN0M7O0FBRUFGLGFBQWFFLFNBQWIsQ0FBdUJPLGdCQUF2QixHQUEwQyxZQUMxQztBQUNDLE9BQU0sbUJBQU47O0FBRUEsUUFBTyxJQUFJWixPQUFKLENBQVksVUFBU2EsT0FBVCxFQUFpQkMsTUFBakIsRUFBd0I7QUFDMUNELFVBQVEsRUFBUjtBQUNBLEVBRk0sQ0FBUDtBQUdBLENBUEQ7O0FBU0FWLGFBQWFFLFNBQWIsQ0FBdUJVLHVCQUF2QixHQUFpRCxZQUNqRDtBQUNDLE9BQU0sbUJBQU47QUFDQSxDQUhEOztBQUtBWixhQUFhRSxTQUFiLENBQXVCVyxZQUF2QixHQUFzQyxVQUFTQyxXQUFULEVBQ3RDO0FBQ0MsUUFBTyxJQUFJakIsT0FBSixDQUFZLFVBQVNhLE9BQVQsRUFBaUJDLE1BQWpCLEVBQXdCO0FBQzFDLE1BQUlJLFNBQVMsSUFBSW5CLFdBQUosRUFBYjtBQUNBO0FBQ0EsTUFBSWtCLFlBQVlFLEtBQWhCLEVBQ0E7QUFDQyxPQUFJQyxVQUFVLEVBQWQ7QUFDQTtBQUNBLE9BQUlDLFFBQVF4QixZQUFZeUIscUJBQVosQ0FBa0NGLE9BQWxDLENBQVo7QUFDQTtBQUNBRixVQUFPSyxRQUFQLENBQWdCLElBQUlDLGdCQUFKLENBQXFCSCxLQUFyQixDQUFoQjtBQUNBO0FBQ0Q7QUFDQSxNQUFJSixZQUFZUSxLQUFoQixFQUNBO0FBQ0MsT0FBSUwsVUFBVSxFQUFkO0FBQ0E7QUFDQSxPQUFJQyxRQUFReEIsWUFBWTZCLHFCQUFaLENBQWtDTixPQUFsQyxDQUFaO0FBQ0E7QUFDQUYsVUFBT0ssUUFBUCxDQUFnQixJQUFJQyxnQkFBSixDQUFxQkgsS0FBckIsQ0FBaEI7QUFDQTtBQUNEO0FBQ0FSLFVBQVFLLE1BQVI7QUFDQSxFQXRCTSxDQUFQO0FBdUJBLENBekJEOztBQTJCQVMsT0FBT0MsT0FBUCxHQUFpQnpCLFlBQWpCIiwiZmlsZSI6Ik1lZGlhRGV2aWNlcy5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBXZWJSVENQcm94eVx0XHRcdD0gcmVxdWlyZShcIi4vV2ViUlRDUHJveHkuanNcIik7XG52YXIgTWVkaWFTdHJlYW1cdFx0XHQ9IHJlcXVpcmUoXCIuL01lZGlhU3RyZWFtLmpzXCIpO1xudmFyIFByb21pc2VcdFx0XHQ9IHJlcXVpcmUoXCJwcm9taXNlLXBvbHlmaWxsXCIpO1xudmFyIEV2ZW50VGFyZ2V0XHRcdFx0PSByZXF1aXJlKFwiZXZlbnQtdGFyZ2V0LXNoaW0vZGlzdC9ldmVudC10YXJnZXQtc2hpbS51bWQuanNcIikuRXZlbnRUYXJnZXQ7XG52YXIgZGVmaW5lRXZlbnRBdHRyaWJ1dGVcdD0gcmVxdWlyZShcImV2ZW50LXRhcmdldC1zaGltL2Rpc3QvZXZlbnQtdGFyZ2V0LXNoaW0udW1kLmpzXCIpLmRlZmluZUV2ZW50QXR0cmlidXRlO1xuXG4vKlxuXHRpbnRlcmZhY2UgTWVkaWFEZXZpY2VzIDogRXZlbnRUYXJnZXQge1xuXHRcdGF0dHJpYnV0ZSBFdmVudEhhbmRsZXIgb25kZXZpY2VjaGFuZ2U7XG5cdFx0UHJvbWlzZTxzZXF1ZW5jZTxNZWRpYURldmljZUluZm8+PiBlbnVtZXJhdGVEZXZpY2VzKCk7XG5cdH1cblxuXHRwYXJ0aWFsIGludGVyZmFjZSBNZWRpYURldmljZXMge1xuXHRcdE1lZGlhVHJhY2tTdXBwb3J0ZWRDb25zdHJhaW50cyBnZXRTdXBwb3J0ZWRDb25zdHJhaW50cygpO1xuXHRcdFByb21pc2U8TWVkaWFTdHJlYW0+ICAgICAgICAgICBnZXRVc2VyTWVkaWEob3B0aW9uYWwgTWVkaWFTdHJlYW1Db25zdHJhaW50cyBjb25zdHJhaW50cyk7XG5cdH1cbiovXG52YXIgTWVkaWFEZXZpY2VzID0gZnVuY3Rpb24oKVxue1xuXHQvL0luaXQgZXZlbnQgdGFyZ2V0clxuXHRFdmVudFRhcmdldC5jYWxsKHRoaXMpO1xuXG59O1xuXG4vL0luaGVyaXQgZnJvbSBFdmVudCBUYXJnZXRcbk1lZGlhRGV2aWNlcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEV2ZW50VGFyZ2V0LnByb3RvdHlwZSwge1xuXHRjb25zdHJ1Y3RvcjogeyBcblx0XHR2YWx1ZVx0XHQ6IE1lZGlhRGV2aWNlcywgXG5cdFx0Y29uZmlndXJhYmxlXHQ6IHRydWUsXG5cdFx0d3JpdGFibGVcdDogdHJ1ZSBcblx0fVxufSk7XG5cbi8vIERlZmluZSBFdmVudCBIYW5kbGVyc1xuZGVmaW5lRXZlbnRBdHRyaWJ1dGUoTWVkaWFEZXZpY2VzLnByb3RvdHlwZSwgXCJkZXZpY2VjaGFuZ2VcIik7XG5cbk1lZGlhRGV2aWNlcy5wcm90b3R5cGUuZW51bWVyYXRlRGV2aWNlcyA9IGZ1bmN0aW9uKClcbntcblx0dGhyb3cgXCJOb3Qgc3VwcG9ydGVkIHlldFwiO1xuXHRcblx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtcblx0XHRyZXNvbHZlKFtdKTtcblx0fSk7XG59O1xuXG5NZWRpYURldmljZXMucHJvdG90eXBlLmdldFN1cHBvcnRlZENvbnN0cmFpbnRzID0gZnVuY3Rpb24oKVxue1xuXHR0aHJvdyBcIk5vdCBzdXBwb3J0ZWQgeWV0XCI7XG59O1xuXG5NZWRpYURldmljZXMucHJvdG90eXBlLmdldFVzZXJNZWRpYSA9IGZ1bmN0aW9uKGNvbnN0cmFpbnRzKVxue1xuXHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe1xuXHRcdHZhciBzdHJlYW0gPSBuZXcgTWVkaWFTdHJlYW0oKTtcblx0XHQvL0lmIHdlIGFyZSBiZWluZyByZXF1ZXN0ZWQgYXVkaW9cblx0XHRpZiAoY29uc3RyYWludHMuYXVkaW8pXG5cdFx0e1xuXHRcdFx0dmFyIG9wdGlvbnMgPSB7fTtcblx0XHRcdC8vR2V0IG5ldyB0cmFja1xuXHRcdFx0dmFyIHRyYWNrID0gV2ViUlRDUHJveHkuY3JlYXRlTG9jYWxBdWRpb1RyYWNrKG9wdGlvbnMpO1xuXHRcdFx0Ly9BZGQgaXQgdG8gdGhlIHN0cmVhbVxuXHRcdFx0c3RyZWFtLmFkZFRyYWNrKG5ldyBNZWRpYVN0cmVhbVRyYWNrKHRyYWNrKSk7XG5cdFx0fVxuXHRcdC8vSWYgd2UgYXJlIGJlaW5nIHJlcXVlc3RlZCB2aWRlb1xuXHRcdGlmIChjb25zdHJhaW50cy52aWRlbylcblx0XHR7XG5cdFx0XHR2YXIgb3B0aW9ucyA9IHt9O1xuXHRcdFx0Ly9HZXQgbmV3IHRyYWNrXG5cdFx0XHR2YXIgdHJhY2sgPSBXZWJSVENQcm94eS5jcmVhdGVMb2NhbFZpZGVvVHJhY2sob3B0aW9ucyk7XG5cdFx0XHQvL0FkZCBpdCB0byB0aGUgc3RyZWFtXG5cdFx0XHRzdHJlYW0uYWRkVHJhY2sobmV3IE1lZGlhU3RyZWFtVHJhY2sodHJhY2spKTtcblx0XHR9XG5cdFx0Ly9Eb25lXG5cdFx0cmVzb2x2ZShzdHJlYW0pO1xuXHR9KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gTWVkaWFEZXZpY2VzOyJdfQ==
},{"./MediaStream.js":3,"./WebRTCProxy.js":9,"event-target-shim/dist/event-target-shim.umd.js":10,"promise-polyfill":11}],3:[function(require,module,exports){
"use strict";

var EventTarget = require("event-target-shim/dist/event-target-shim.umd.js").EventTarget;
var defineEventAttribute = require("event-target-shim/dist/event-target-shim.umd.js").defineEventAttribute;
/*
[Exposed=Window,
 Constructor,
 Constructor(MediaStream stream),
 Constructor(sequence<MediaStreamTrack> tracks)]
interface MediaStream : EventTarget {
    readonly attribute DOMString    id;
    sequence<MediaStreamTrack> getAudioTracks();
    sequence<MediaStreamTrack> getVideoTracks();
    sequence<MediaStreamTrack> getTracks();
    MediaStreamTrack?          getTrackById(DOMString trackId);
    void                       addTrack(MediaStreamTrack track);
    void                       removeTrack(MediaStreamTrack track);
    MediaStream                clone();
    readonly attribute boolean      active;
             attribute EventHandler onaddtrack;
             attribute EventHandler onremovetrack;
}; 
 */
var count = 0;

var MediaStream = function MediaStream(label, tracks) {
	//Init event targetr
	EventTarget.call(this);

	//Private vars
	this.priv = {
		tracks: {}
	};

	//Add input tracks to our map
	if (tracks) for (var i = 0; i < tracks.length; ++i) {
		this.priv.tracks[tracks[i].id] = tracks[i];
	}var id = label || "stream-" + count++;

	Object.defineProperty(this, 'id', { enumerable: true, configurable: false, writable: false, value: id });
	Object.defineProperty(this, 'active', { enumerable: true, configurable: false, writable: false, value: true });

	return this;
};

//Inherit from Event Target
MediaStream.prototype = Object.create(EventTarget.prototype, {
	constructor: {
		value: MediaStream,
		configurable: true,
		writable: true
	}
});

// Define Event Handlers
defineEventAttribute(MediaStream.prototype, "addtrack");
defineEventAttribute(MediaStream.prototype, "removetrack");

MediaStream.prototype.getAudioTracks = function () {
	var arr = [];
	for (var id in this.priv.tracks) {
		if (this.priv.tracks[id].kind === "audio") arr.push(this.priv.tracks[id]);
	}return arr;
};

MediaStream.prototype.getVideoTracks = function () {
	var arr = [];
	for (var id in this.priv.tracks) {
		if (this.priv.tracks[id].kind === "video") arr.push(this.priv.tracks[id]);
	}return arr;
};

MediaStream.prototype.getTracks = function () {
	var arr = [];
	for (var id in this.priv.tracks) {
		arr.push(this.priv.tracks[id]);
	}return arr;
};

MediaStream.prototype.getTrackById = function (id) {
	return this.priv.tracks[id];
};

MediaStream.prototype.addTrack = function (track) {
	//Check if already present
	if (this.priv.tracks.hasOwnProperty(track.id)) return;
	//Add to track
	this.priv.tracks[track.id] = track;
	//Create event
	var event = document.createEvent("Event");
	event.initEvent("addtrack", false, false);
	event.track = track;
	//Fire it
	this.dispatchEvent(event);
};

MediaStream.prototype.removeTrack = function (track) {
	//Check if it is notalready present
	if (!this.priv.tracks.hasOwnProperty(track.id)) return;
	//Add to track
	delete this.priv.tracks[track.id];
	//Create event
	var event = document.createEvent("Event");
	event.initEvent("removetrack", false, false);
	event.track = track;
	//Fire it
	this.dispatchEvent(event);
};

MediaStream.prototype.clone = function () {
	return new MediaStream(this.getTracks());
};

module.exports = MediaStream;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1lZGlhU3RyZWFtLmpzIl0sIm5hbWVzIjpbIkV2ZW50VGFyZ2V0IiwicmVxdWlyZSIsImRlZmluZUV2ZW50QXR0cmlidXRlIiwiY291bnQiLCJNZWRpYVN0cmVhbSIsImxhYmVsIiwidHJhY2tzIiwiY2FsbCIsInByaXYiLCJpIiwibGVuZ3RoIiwiaWQiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsInZhbHVlIiwicHJvdG90eXBlIiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJnZXRBdWRpb1RyYWNrcyIsImFyciIsImtpbmQiLCJwdXNoIiwiZ2V0VmlkZW9UcmFja3MiLCJnZXRUcmFja3MiLCJnZXRUcmFja0J5SWQiLCJhZGRUcmFjayIsInRyYWNrIiwiaGFzT3duUHJvcGVydHkiLCJldmVudCIsImRvY3VtZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwicmVtb3ZlVHJhY2siLCJjbG9uZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsY0FBZ0JDLFFBQVEsaURBQVIsRUFBMkRELFdBQS9FO0FBQ0EsSUFBSUUsdUJBQXVCRCxRQUFRLGlEQUFSLEVBQTJEQyxvQkFBdEY7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQW1CQSxJQUFJQyxRQUFRLENBQVo7O0FBRUEsSUFBSUMsY0FBYyxTQUFkQSxXQUFjLENBQVNDLEtBQVQsRUFBZUMsTUFBZixFQUNsQjtBQUNDO0FBQ0FOLGFBQVlPLElBQVosQ0FBaUIsSUFBakI7O0FBRUE7QUFDQSxNQUFLQyxJQUFMLEdBQVk7QUFDWEYsVUFBUztBQURFLEVBQVo7O0FBSUE7QUFDQSxLQUFJQSxNQUFKLEVBQ0MsS0FBSyxJQUFJRyxJQUFFLENBQVgsRUFBY0EsSUFBRUgsT0FBT0ksTUFBdkIsRUFBK0IsRUFBRUQsQ0FBakM7QUFDQyxPQUFLRCxJQUFMLENBQVVGLE1BQVYsQ0FB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QUFjQSxLQUFkO0FBQ0E7QUFDQSxNQUFLTSxhQUFMLENBQW1CSixLQUFuQjtBQUNBLENBYkQ7O0FBZUEzQixZQUFZYyxTQUFaLENBQXNCa0IsV0FBdEIsR0FBb0MsVUFBU1AsS0FBVCxFQUNwQztBQUNDO0FBQ0EsS0FBSSxDQUFDLEtBQUtyQixJQUFMLENBQVVGLE1BQVYsQ0FBaUJ3QixjQUFqQixDQUFnQ0QsTUFBTWxCLEVBQXRDLENBQUwsRUFDQztBQUNEO0FBQ0EsUUFBTyxLQUFLSCxJQUFMLENBQVVGLE1BQVYsQ0FBaUJ1QixNQUFNbEIsRUFBdkIsQ0FBUDtBQUNBO0FBQ0EsS0FBSW9CLFFBQVFDLFNBQVNDLFdBQVQsQ0FBcUIsT0FBckIsQ0FBWjtBQUNBRixPQUFNRyxTQUFOLENBQWdCLGFBQWhCLEVBQStCLEtBQS9CLEVBQXNDLEtBQXRDO0FBQ0FILE9BQU1GLEtBQU4sR0FBY0EsS0FBZDtBQUNBO0FBQ0EsTUFBS00sYUFBTCxDQUFtQkosS0FBbkI7QUFDQSxDQWJEOztBQWVBM0IsWUFBWWMsU0FBWixDQUFzQm1CLEtBQXRCLEdBQThCLFlBQzlCO0FBQ0MsUUFBTyxJQUFJakMsV0FBSixDQUFnQixLQUFLc0IsU0FBTCxFQUFoQixDQUFQO0FBQ0EsQ0FIRDs7QUFLQVksT0FBT0MsT0FBUCxHQUFpQm5DLFdBQWpCIiwiZmlsZSI6Ik1lZGlhU3RyZWFtLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEV2ZW50VGFyZ2V0XHRcdFx0PSByZXF1aXJlKFwiZXZlbnQtdGFyZ2V0LXNoaW0vZGlzdC9ldmVudC10YXJnZXQtc2hpbS51bWQuanNcIikuRXZlbnRUYXJnZXQ7XG52YXIgZGVmaW5lRXZlbnRBdHRyaWJ1dGVcdD0gcmVxdWlyZShcImV2ZW50LXRhcmdldC1zaGltL2Rpc3QvZXZlbnQtdGFyZ2V0LXNoaW0udW1kLmpzXCIpLmRlZmluZUV2ZW50QXR0cmlidXRlO1xuLypcbltFeHBvc2VkPVdpbmRvdyxcbiBDb25zdHJ1Y3RvcixcbiBDb25zdHJ1Y3RvcihNZWRpYVN0cmVhbSBzdHJlYW0pLFxuIENvbnN0cnVjdG9yKHNlcXVlbmNlPE1lZGlhU3RyZWFtVHJhY2s+IHRyYWNrcyldXG5pbnRlcmZhY2UgTWVkaWFTdHJlYW0gOiBFdmVudFRhcmdldCB7XG4gICAgcmVhZG9ubHkgYXR0cmlidXRlIERPTVN0cmluZyAgICBpZDtcbiAgICBzZXF1ZW5jZTxNZWRpYVN0cmVhbVRyYWNrPiBnZXRBdWRpb1RyYWNrcygpO1xuICAgIHNlcXVlbmNlPE1lZGlhU3RyZWFtVHJhY2s+IGdldFZpZGVvVHJhY2tzKCk7XG4gICAgc2VxdWVuY2U8TWVkaWFTdHJlYW1UcmFjaz4gZ2V0VHJhY2tzKCk7XG4gICAgTWVkaWFTdHJlYW1UcmFjaz8gICAgICAgICAgZ2V0VHJhY2tCeUlkKERPTVN0cmluZyB0cmFja0lkKTtcbiAgICB2b2lkICAgICAgICAgICAgICAgICAgICAgICBhZGRUcmFjayhNZWRpYVN0cmVhbVRyYWNrIHRyYWNrKTtcbiAgICB2b2lkICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVUcmFjayhNZWRpYVN0cmVhbVRyYWNrIHRyYWNrKTtcbiAgICBNZWRpYVN0cmVhbSAgICAgICAgICAgICAgICBjbG9uZSgpO1xuICAgIHJlYWRvbmx5IGF0dHJpYnV0ZSBib29sZWFuICAgICAgYWN0aXZlO1xuICAgICAgICAgICAgIGF0dHJpYnV0ZSBFdmVudEhhbmRsZXIgb25hZGR0cmFjaztcbiAgICAgICAgICAgICBhdHRyaWJ1dGUgRXZlbnRIYW5kbGVyIG9ucmVtb3ZldHJhY2s7XG59OyBcbiAqL1xudmFyIGNvdW50ID0gMDtcblxudmFyIE1lZGlhU3RyZWFtID0gZnVuY3Rpb24obGFiZWwsdHJhY2tzKVxue1xuXHQvL0luaXQgZXZlbnQgdGFyZ2V0clxuXHRFdmVudFRhcmdldC5jYWxsKHRoaXMpO1xuXHRcblx0Ly9Qcml2YXRlIHZhcnNcblx0dGhpcy5wcml2ID0ge1xuXHRcdHRyYWNrcyA6IHt9XG5cdH07XG5cdFxuXHQvL0FkZCBpbnB1dCB0cmFja3MgdG8gb3VyIG1hcFxuXHRpZiAodHJhY2tzKVxuXHRcdGZvciAodmFyIGk9MDsgaTx0cmFja3MubGVuZ3RoOyArK2kpXG5cdFx0XHR0aGlzLnByaXYudHJhY2tzW3RyYWNrc1tpXS5pZF0gPSB0cmFja3NbaV07XG5cdFxuXHR2YXIgaWQgPSBsYWJlbCB8fCAoXCJzdHJlYW0tXCIrKGNvdW50KyspKTtcblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnaWQnXHQsIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IGZhbHNlLCB2YWx1ZTogaWQgfSk7XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnYWN0aXZlJ1x0LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiBmYWxzZSwgdmFsdWU6IHRydWV9KTtcblx0XG5cdHJldHVybiB0aGlzO1xufTtcblxuLy9Jbmhlcml0IGZyb20gRXZlbnQgVGFyZ2V0XG5NZWRpYVN0cmVhbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEV2ZW50VGFyZ2V0LnByb3RvdHlwZSwge1xuXHRjb25zdHJ1Y3RvcjogeyBcblx0XHR2YWx1ZVx0XHQ6IE1lZGlhU3RyZWFtLCBcblx0XHRjb25maWd1cmFibGVcdDogdHJ1ZSxcblx0XHR3cml0YWJsZVx0OiB0cnVlIFxuXHR9XG59KTtcblxuLy8gRGVmaW5lIEV2ZW50IEhhbmRsZXJzXG5kZWZpbmVFdmVudEF0dHJpYnV0ZShNZWRpYVN0cmVhbS5wcm90b3R5cGUsIFwiYWRkdHJhY2tcIik7XG5kZWZpbmVFdmVudEF0dHJpYnV0ZShNZWRpYVN0cmVhbS5wcm90b3R5cGUsIFwicmVtb3ZldHJhY2tcIik7XG5cbk1lZGlhU3RyZWFtLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcyA9IGZ1bmN0aW9uKClcbntcblx0dmFyIGFyciA9IFtdO1xuXHRmb3IgKHZhciBpZCBpbiB0aGlzLnByaXYudHJhY2tzKVxuXHRcdGlmICh0aGlzLnByaXYudHJhY2tzW2lkXS5raW5kPT09XCJhdWRpb1wiKVxuXHRcdGFyci5wdXNoKHRoaXMucHJpdi50cmFja3NbaWRdKTtcblx0cmV0dXJuIGFycjtcbn07XG5cbk1lZGlhU3RyZWFtLnByb3RvdHlwZS5nZXRWaWRlb1RyYWNrcyA9IGZ1bmN0aW9uKClcbntcblx0dmFyIGFyciA9IFtdO1xuXHRmb3IgKHZhciBpZCBpbiB0aGlzLnByaXYudHJhY2tzKVxuXHRcdGlmICh0aGlzLnByaXYudHJhY2tzW2lkXS5raW5kPT09XCJ2aWRlb1wiKVxuXHRcdFx0YXJyLnB1c2godGhpcy5wcml2LnRyYWNrc1tpZF0pO1xuXHRyZXR1cm4gYXJyO1x0XG59O1xuXG5NZWRpYVN0cmVhbS5wcm90b3R5cGUuZ2V0VHJhY2tzID0gZnVuY3Rpb24oKVxue1xuXHR2YXIgYXJyID0gW107XG5cdGZvciAodmFyIGlkIGluIHRoaXMucHJpdi50cmFja3MpXG5cdFx0YXJyLnB1c2godGhpcy5wcml2LnRyYWNrc1tpZF0pO1xuXHRyZXR1cm4gYXJyO1xufTtcblxuTWVkaWFTdHJlYW0ucHJvdG90eXBlLmdldFRyYWNrQnlJZCA9IGZ1bmN0aW9uKGlkKVxue1xuXHRyZXR1cm4gdGhpcy5wcml2LnRyYWNrc1tpZF07XG59O1xuXG5NZWRpYVN0cmVhbS5wcm90b3R5cGUuYWRkVHJhY2sgPSBmdW5jdGlvbih0cmFjaylcbntcblx0Ly9DaGVjayBpZiBhbHJlYWR5IHByZXNlbnRcblx0aWYgKHRoaXMucHJpdi50cmFja3MuaGFzT3duUHJvcGVydHkodHJhY2suaWQpKVxuXHRcdHJldHVybjtcblx0Ly9BZGQgdG8gdHJhY2tcblx0dGhpcy5wcml2LnRyYWNrc1t0cmFjay5pZF0gPSB0cmFjaztcblx0Ly9DcmVhdGUgZXZlbnRcblx0dmFyIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudFwiKTtcblx0ZXZlbnQuaW5pdEV2ZW50KFwiYWRkdHJhY2tcIiwgZmFsc2UsIGZhbHNlKTtcblx0ZXZlbnQudHJhY2sgPSB0cmFjaztcblx0Ly9GaXJlIGl0XG5cdHRoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XG59O1xuXG5NZWRpYVN0cmVhbS5wcm90b3R5cGUucmVtb3ZlVHJhY2sgPSBmdW5jdGlvbih0cmFjaylcbntcblx0Ly9DaGVjayBpZiBpdCBpcyBub3RhbHJlYWR5IHByZXNlbnRcblx0aWYgKCF0aGlzLnByaXYudHJhY2tzLmhhc093blByb3BlcnR5KHRyYWNrLmlkKSlcblx0XHRyZXR1cm47XG5cdC8vQWRkIHRvIHRyYWNrXG5cdGRlbGV0ZSh0aGlzLnByaXYudHJhY2tzW3RyYWNrLmlkXSk7XG5cdC8vQ3JlYXRlIGV2ZW50XG5cdHZhciBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiRXZlbnRcIik7XG5cdGV2ZW50LmluaXRFdmVudChcInJlbW92ZXRyYWNrXCIsIGZhbHNlLCBmYWxzZSk7XG5cdGV2ZW50LnRyYWNrID0gdHJhY2s7XG5cdC8vRmlyZSBpdFxuXHR0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xufTtcblxuTWVkaWFTdHJlYW0ucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKVxue1xuXHRyZXR1cm4gbmV3IE1lZGlhU3RyZWFtKHRoaXMuZ2V0VHJhY2tzKCkpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBNZWRpYVN0cmVhbTsiXX0=
},{"event-target-shim/dist/event-target-shim.umd.js":10}],4:[function(require,module,exports){
"use strict";

var EventTarget = require("event-target-shim/dist/event-target-shim.umd.js").EventTarget;
var defineEventAttribute = require("event-target-shim/dist/event-target-shim.umd.js").defineEventAttribute;
/*
[Exposed=Window]
interface MediaStreamTrack : EventTarget {
    readonly attribute DOMString             kind;
    readonly attribute DOMString             id;
    readonly attribute DOMString             label;
             attribute boolean               enabled;
    readonly attribute boolean               muted;
             attribute EventHandler          onmute;
             attribute EventHandler          onunmute;
    readonly attribute MediaStreamTrackState readyState;
             attribute EventHandler          onended;
    MediaStreamTrack       clone();
    void                   stop();
    MediaTrackCapabilities getCapabilities();
    MediaTrackConstraints  getConstraints();
    MediaTrackSettings     getSettings();
    Promise<void>          applyConstraints(optional MediaTrackConstraints constraints);
             attribute EventHandler          onoverconstrained;
};
*/
var MediaStreamTrack = function MediaStreamTrack(track) {
	//Init event targetr
	EventTarget.call(this);

	//Private vars
	var priv = this.priv = {
		track: track,
		muted: false
	};

	Object.defineProperty(this, 'kind', { enumerable: true, configurable: false, get: function get() {
			return priv.track.kind;
		} });
	Object.defineProperty(this, 'id', { enumerable: true, configurable: false, get: function get() {
			return priv.track.id;
		} });
	Object.defineProperty(this, 'label', { enumerable: true, configurable: false, get: function get() {
			return priv.track.id;
		} });
	Object.defineProperty(this, 'enabled', { enumerable: true, configurable: false, get: function get() {
			return priv.track.enabled;
		}, set: function set(enabled) {
			priv.track.enabled = !!enabled;
		} });
	Object.defineProperty(this, 'muted', { enumerable: true, configurable: false, get: function get() {
			return priv.muted;
		} });
	Object.defineProperty(this, 'readyState', { enumerable: true, configurable: false, get: function get() {
			return priv.track.state;
		} });

	return this;
};

//Inherit from Event Target
MediaStreamTrack.prototype = Object.create(EventTarget.prototype, {
	constructor: {
		value: MediaStreamTrack,
		configurable: true,
		writable: true
	}
});

// Define Event Handlers
//TODO: fire them somehow
defineEventAttribute(MediaStreamTrack.prototype, "mute");
defineEventAttribute(MediaStreamTrack.prototype, "unmute");
defineEventAttribute(MediaStreamTrack.prototype, "ended");

MediaStreamTrack.prototype.clone = function () {
	return null;
};

MediaStreamTrack.prototype.stop = function () {
	this.priv.track.stop();
};

MediaStreamTrack.prototype.getCapabilities = function () {};

MediaStreamTrack.prototype.getConstraints = function () {};

MediaStreamTrack.prototype.getSettings = function () {};

MediaStreamTrack.prototype.applyConstraints = function () {};

module.exports = MediaStreamTrack;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1lZGlhU3RyZWFtVHJhY2suanMiXSwibmFtZXMiOlsiRXZlbnRUYXJnZXQiLCJyZXF1aXJlIiwiZGVmaW5lRXZlbnRBdHRyaWJ1dGUiLCJNZWRpYVN0cmVhbVRyYWNrIiwidHJhY2siLCJjYWxsIiwicHJpdiIsIm11dGVkIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwiZ2V0Iiwia2luZCIsImlkIiwiZW5hYmxlZCIsInNldCIsInN0YXRlIiwicHJvdG90eXBlIiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJ2YWx1ZSIsIndyaXRhYmxlIiwiY2xvbmUiLCJzdG9wIiwiZ2V0Q2FwYWJpbGl0aWVzIiwiZ2V0Q29uc3RyYWludHMiLCJnZXRTZXR0aW5ncyIsImFwcGx5Q29uc3RyYWludHMiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLGNBQWdCQyxRQUFRLGlEQUFSLEVBQTJERCxXQUEvRTtBQUNBLElBQUlFLHVCQUF1QkQsUUFBUSxpREFBUixFQUEyREMsb0JBQXRGO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXFCQSxJQUFJQyxtQkFBbUIsU0FBbkJBLGdCQUFtQixDQUFTQyxLQUFULEVBQ3ZCO0FBQ0M7QUFDQUosYUFBWUssSUFBWixDQUFpQixJQUFqQjs7QUFFQTtBQUNBLEtBQUlDLE9BQU8sS0FBS0EsSUFBTCxHQUFZO0FBQ3RCRixTQUFRQSxLQURjO0FBRXRCRyxTQUFRO0FBRmMsRUFBdkI7O0FBS0FDLFFBQU9DLGNBQVAsQ0FBc0IsSUFBdEIsRUFBNEIsTUFBNUIsRUFBcUMsRUFBRUMsWUFBWSxJQUFkLEVBQW9CQyxjQUFjLEtBQWxDLEVBQXlDQyxLQUFLLGVBQVU7QUFBRSxVQUFPTixLQUFLRixLQUFMLENBQVdTLElBQWxCO0FBQXlCLEdBQW5GLEVBQXJDO0FBQ0FMLFFBQU9DLGNBQVAsQ0FBc0IsSUFBdEIsRUFBNEIsSUFBNUIsRUFBbUMsRUFBRUMsWUFBWSxJQUFkLEVBQW9CQyxjQUFjLEtBQWxDLEVBQXlDQyxLQUFLLGVBQVU7QUFBRSxVQUFPTixLQUFLRixLQUFMLENBQVdVLEVBQWxCO0FBQXVCLEdBQWpGLEVBQW5DO0FBQ0FOLFFBQU9DLGNBQVAsQ0FBc0IsSUFBdEIsRUFBNEIsT0FBNUIsRUFBc0MsRUFBRUMsWUFBWSxJQUFkLEVBQW9CQyxjQUFjLEtBQWxDLEVBQXlDQyxLQUFLLGVBQVU7QUFBRSxVQUFPTixLQUFLRixLQUFMLENBQVdVLEVBQWxCO0FBQXVCLEdBQWpGLEVBQXRDO0FBQ0FOLFFBQU9DLGNBQVAsQ0FBc0IsSUFBdEIsRUFBNEIsU0FBNUIsRUFBd0MsRUFBRUMsWUFBWSxJQUFkLEVBQW9CQyxjQUFjLEtBQWxDLEVBQXlDQyxLQUFLLGVBQVU7QUFBRSxVQUFPTixLQUFLRixLQUFMLENBQVdXLE9BQWxCO0FBQTJCLEdBQXJGLEVBQXdGQyxLQUFLLGFBQVNELE9BQVQsRUFBaUI7QUFBRVQsUUFBS0YsS0FBTCxDQUFXVyxPQUFYLEdBQXFCLENBQUMsQ0FBQ0EsT0FBdkI7QUFBaUMsR0FBakosRUFBeEM7QUFDQVAsUUFBT0MsY0FBUCxDQUFzQixJQUF0QixFQUE0QixPQUE1QixFQUFzQyxFQUFFQyxZQUFZLElBQWQsRUFBb0JDLGNBQWMsS0FBbEMsRUFBeUNDLEtBQUssZUFBVTtBQUFFLFVBQU9OLEtBQUtDLEtBQVo7QUFBb0IsR0FBOUUsRUFBdEM7QUFDQUMsUUFBT0MsY0FBUCxDQUFzQixJQUF0QixFQUE0QixZQUE1QixFQUEwQyxFQUFFQyxZQUFZLElBQWQsRUFBb0JDLGNBQWMsS0FBbEMsRUFBeUNDLEtBQUssZUFBVTtBQUFFLFVBQU9OLEtBQUtGLEtBQUwsQ0FBV2EsS0FBbEI7QUFBMEIsR0FBcEYsRUFBMUM7O0FBRUEsUUFBTyxJQUFQO0FBQ0EsQ0FuQkQ7O0FBcUJBO0FBQ0FkLGlCQUFpQmUsU0FBakIsR0FBNkJWLE9BQU9XLE1BQVAsQ0FBY25CLFlBQVlrQixTQUExQixFQUFxQztBQUNqRUUsY0FBYTtBQUNaQyxTQUFTbEIsZ0JBREc7QUFFWlEsZ0JBQWUsSUFGSDtBQUdaVyxZQUFXO0FBSEM7QUFEb0QsQ0FBckMsQ0FBN0I7O0FBUUE7QUFDQTtBQUNBcEIscUJBQXFCQyxpQkFBaUJlLFNBQXRDLEVBQWlELE1BQWpEO0FBQ0FoQixxQkFBcUJDLGlCQUFpQmUsU0FBdEMsRUFBaUQsUUFBakQ7QUFDQWhCLHFCQUFxQkMsaUJBQWlCZSxTQUF0QyxFQUFpRCxPQUFqRDs7QUFFQWYsaUJBQWlCZSxTQUFqQixDQUEyQkssS0FBM0IsR0FBbUMsWUFDbkM7QUFDQyxRQUFPLElBQVA7QUFDQSxDQUhEOztBQUtBcEIsaUJBQWlCZSxTQUFqQixDQUEyQk0sSUFBM0IsR0FBa0MsWUFDbEM7QUFDQyxNQUFLbEIsSUFBTCxDQUFVRixLQUFWLENBQWdCb0IsSUFBaEI7QUFDQSxDQUhEOztBQUtBckIsaUJBQWlCZSxTQUFqQixDQUEyQk8sZUFBM0IsR0FBNkMsWUFDN0MsQ0FFQyxDQUhEOztBQUtBdEIsaUJBQWlCZSxTQUFqQixDQUEyQlEsY0FBM0IsR0FBNEMsWUFDNUMsQ0FFQyxDQUhEOztBQUtBdkIsaUJBQWlCZSxTQUFqQixDQUEyQlMsV0FBM0IsR0FBeUMsWUFDekMsQ0FFQyxDQUhEOztBQUtBeEIsaUJBQWlCZSxTQUFqQixDQUEyQlUsZ0JBQTNCLEdBQThDLFlBQzlDLENBRUMsQ0FIRDs7QUFLQUMsT0FBT0MsT0FBUCxHQUFpQjNCLGdCQUFqQiIsImZpbGUiOiJNZWRpYVN0cmVhbVRyYWNrLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEV2ZW50VGFyZ2V0XHRcdFx0PSByZXF1aXJlKFwiZXZlbnQtdGFyZ2V0LXNoaW0vZGlzdC9ldmVudC10YXJnZXQtc2hpbS51bWQuanNcIikuRXZlbnRUYXJnZXQ7XG52YXIgZGVmaW5lRXZlbnRBdHRyaWJ1dGVcdD0gcmVxdWlyZShcImV2ZW50LXRhcmdldC1zaGltL2Rpc3QvZXZlbnQtdGFyZ2V0LXNoaW0udW1kLmpzXCIpLmRlZmluZUV2ZW50QXR0cmlidXRlO1xuLypcbltFeHBvc2VkPVdpbmRvd11cbmludGVyZmFjZSBNZWRpYVN0cmVhbVRyYWNrIDogRXZlbnRUYXJnZXQge1xuICAgIHJlYWRvbmx5IGF0dHJpYnV0ZSBET01TdHJpbmcgICAgICAgICAgICAga2luZDtcbiAgICByZWFkb25seSBhdHRyaWJ1dGUgRE9NU3RyaW5nICAgICAgICAgICAgIGlkO1xuICAgIHJlYWRvbmx5IGF0dHJpYnV0ZSBET01TdHJpbmcgICAgICAgICAgICAgbGFiZWw7XG4gICAgICAgICAgICAgYXR0cmlidXRlIGJvb2xlYW4gICAgICAgICAgICAgICBlbmFibGVkO1xuICAgIHJlYWRvbmx5IGF0dHJpYnV0ZSBib29sZWFuICAgICAgICAgICAgICAgbXV0ZWQ7XG4gICAgICAgICAgICAgYXR0cmlidXRlIEV2ZW50SGFuZGxlciAgICAgICAgICBvbm11dGU7XG4gICAgICAgICAgICAgYXR0cmlidXRlIEV2ZW50SGFuZGxlciAgICAgICAgICBvbnVubXV0ZTtcbiAgICByZWFkb25seSBhdHRyaWJ1dGUgTWVkaWFTdHJlYW1UcmFja1N0YXRlIHJlYWR5U3RhdGU7XG4gICAgICAgICAgICAgYXR0cmlidXRlIEV2ZW50SGFuZGxlciAgICAgICAgICBvbmVuZGVkO1xuICAgIE1lZGlhU3RyZWFtVHJhY2sgICAgICAgY2xvbmUoKTtcbiAgICB2b2lkICAgICAgICAgICAgICAgICAgIHN0b3AoKTtcbiAgICBNZWRpYVRyYWNrQ2FwYWJpbGl0aWVzIGdldENhcGFiaWxpdGllcygpO1xuICAgIE1lZGlhVHJhY2tDb25zdHJhaW50cyAgZ2V0Q29uc3RyYWludHMoKTtcbiAgICBNZWRpYVRyYWNrU2V0dGluZ3MgICAgIGdldFNldHRpbmdzKCk7XG4gICAgUHJvbWlzZTx2b2lkPiAgICAgICAgICBhcHBseUNvbnN0cmFpbnRzKG9wdGlvbmFsIE1lZGlhVHJhY2tDb25zdHJhaW50cyBjb25zdHJhaW50cyk7XG4gICAgICAgICAgICAgYXR0cmlidXRlIEV2ZW50SGFuZGxlciAgICAgICAgICBvbm92ZXJjb25zdHJhaW5lZDtcbn07XG4qL1xudmFyIE1lZGlhU3RyZWFtVHJhY2sgPSBmdW5jdGlvbih0cmFjaylcbntcblx0Ly9Jbml0IGV2ZW50IHRhcmdldHJcblx0RXZlbnRUYXJnZXQuY2FsbCh0aGlzKTtcblx0XG5cdC8vUHJpdmF0ZSB2YXJzXG5cdHZhciBwcml2ID0gdGhpcy5wcml2ID0ge1xuXHRcdHRyYWNrIDogdHJhY2ssXG5cdFx0bXV0ZWQgOiBmYWxzZVxuXHR9O1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdraW5kJ1x0LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogZmFsc2UsIGdldDogZnVuY3Rpb24oKXsgcmV0dXJuIHByaXYudHJhY2sua2luZDtcdH19KTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdpZCdcdCwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IGZhbHNlLCBnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiBwcml2LnRyYWNrLmlkO1x0fX0pO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2xhYmVsJ1x0LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogZmFsc2UsIGdldDogZnVuY3Rpb24oKXsgcmV0dXJuIHByaXYudHJhY2suaWQ7XHR9fSk7XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnZW5hYmxlZCdcdCwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IGZhbHNlLCBnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiBwcml2LnRyYWNrLmVuYWJsZWQ7fSAsIHNldDogZnVuY3Rpb24oZW5hYmxlZCl7IHByaXYudHJhY2suZW5hYmxlZCA9ICEhZW5hYmxlZDsgfX0pO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ211dGVkJ1x0LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogZmFsc2UsIGdldDogZnVuY3Rpb24oKXsgcmV0dXJuIHByaXYubXV0ZWQ7XHR9fSk7XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncmVhZHlTdGF0ZScsIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiBmYWxzZSwgZ2V0OiBmdW5jdGlvbigpeyByZXR1cm4gcHJpdi50cmFjay5zdGF0ZTtcdH19KTtcblx0XG5cdHJldHVybiB0aGlzO1xufTtcblxuLy9Jbmhlcml0IGZyb20gRXZlbnQgVGFyZ2V0XG5NZWRpYVN0cmVhbVRyYWNrLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXZlbnRUYXJnZXQucHJvdG90eXBlLCB7XG5cdGNvbnN0cnVjdG9yOiB7IFxuXHRcdHZhbHVlXHRcdDogTWVkaWFTdHJlYW1UcmFjaywgXG5cdFx0Y29uZmlndXJhYmxlXHQ6IHRydWUsXG5cdFx0d3JpdGFibGVcdDogdHJ1ZSBcblx0fVxufSk7XG5cbi8vIERlZmluZSBFdmVudCBIYW5kbGVyc1xuLy9UT0RPOiBmaXJlIHRoZW0gc29tZWhvd1xuZGVmaW5lRXZlbnRBdHRyaWJ1dGUoTWVkaWFTdHJlYW1UcmFjay5wcm90b3R5cGUsIFwibXV0ZVwiKTtcbmRlZmluZUV2ZW50QXR0cmlidXRlKE1lZGlhU3RyZWFtVHJhY2sucHJvdG90eXBlLCBcInVubXV0ZVwiKTtcbmRlZmluZUV2ZW50QXR0cmlidXRlKE1lZGlhU3RyZWFtVHJhY2sucHJvdG90eXBlLCBcImVuZGVkXCIpO1xuXG5NZWRpYVN0cmVhbVRyYWNrLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKClcbntcblx0cmV0dXJuIG51bGw7XG59O1xuXG5NZWRpYVN0cmVhbVRyYWNrLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24oKVxue1xuXHR0aGlzLnByaXYudHJhY2suc3RvcCgpO1xufTtcblxuTWVkaWFTdHJlYW1UcmFjay5wcm90b3R5cGUuZ2V0Q2FwYWJpbGl0aWVzID0gZnVuY3Rpb24oKVxue1xuXHRcbn07XG5cbk1lZGlhU3RyZWFtVHJhY2sucHJvdG90eXBlLmdldENvbnN0cmFpbnRzID0gZnVuY3Rpb24oKVxue1xuXHRcbn07XG5cbk1lZGlhU3RyZWFtVHJhY2sucHJvdG90eXBlLmdldFNldHRpbmdzID0gZnVuY3Rpb24oKVxue1xuXHRcbn07XG5cbk1lZGlhU3RyZWFtVHJhY2sucHJvdG90eXBlLmFwcGx5Q29uc3RyYWludHMgPSBmdW5jdGlvbigpXG57XG5cdFxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBNZWRpYVN0cmVhbVRyYWNrOyJdfQ==
},{"event-target-shim/dist/event-target-shim.umd.js":10}],5:[function(require,module,exports){
"use strict";

/*
interface RTCIceCandidate {
    readonly attribute DOMString               candidate;
    readonly attribute DOMString?              sdpMid;
    readonly attribute unsigned short?         sdpMLineIndex;
    readonly attribute DOMString?              foundation;
    readonly attribute RTCIceComponent?        component;
    readonly attribute unsigned long?          priority;
    readonly attribute DOMString?              ip;
    readonly attribute RTCIceProtocol?         protocol;
    readonly attribute unsigned short?         port;
    readonly attribute RTCIceCandidateType?    type;
    readonly attribute RTCIceTcpCandidateType? tcpType;
    readonly attribute DOMString?              relatedAddress;
    readonly attribute unsigned short?         relatedPort;
    readonly attribute DOMString?              usernameFragment;
    RTCIceCandidateInit toJSON();
};
 */
var RTCIceCandidate = function RTCIceCandidate(candidate, sdpMid, sdpMLineIndex, foundation, component, priority, ip, protocol, port, type, tcpType, relatedAddress, relatedPort, usernameFragment) {
	//Direct attributes from init
	Object.defineProperty(this, "candidate", { enumerable: true, configurable: false, get: function get() {
			return candidate;
		} });
	Object.defineProperty(this, "sdpMid", { enumerable: true, configurable: false, get: function get() {
			return sdpMid;
		} });
	Object.defineProperty(this, "sdpMLineIndex", { enumerable: true, configurable: false, get: function get() {
			return sdpMLineIndex;
		} });
	Object.defineProperty(this, "foundation", { enumerable: true, configurable: false, get: function get() {
			return foundation;
		} });
	Object.defineProperty(this, "component", { enumerable: true, configurable: false, get: function get() {
			return component;
		} });
	Object.defineProperty(this, "priority", { enumerable: true, configurable: false, get: function get() {
			return priority;
		} });
	Object.defineProperty(this, "ip", { enumerable: true, configurable: false, get: function get() {
			return ip;
		} });
	Object.defineProperty(this, "protocol", { enumerable: true, configurable: false, get: function get() {
			return protocol;
		} });
	Object.defineProperty(this, "port", { enumerable: true, configurable: false, get: function get() {
			return port;
		} });
	Object.defineProperty(this, "type", { enumerable: true, configurable: false, get: function get() {
			return type;
		} });
	Object.defineProperty(this, "tcpType", { enumerable: true, configurable: false, get: function get() {
			return tcpType;
		} });
	Object.defineProperty(this, "relatedAddress", { enumerable: true, configurable: false, get: function get() {
			return relatedAddress;
		} });
	Object.defineProperty(this, "relatedPort", { enumerable: true, configurable: false, get: function get() {
			return relatedPort;
		} });
	Object.defineProperty(this, "usernameFragment", { enumerable: true, configurable: false, get: function get() {
			return usernameFragment;
		} });

	return this;
};

RTCIceCandidate.prototype.toJSON = function () {
	return {
		candidate: this.candidate,
		sdpMid: this.sdpMid,
		sdpMLineIndex: this.sdpMLineIndex,
		usernameFragment: this.usernameFragment
	};
};

module.exports = RTCIceCandidate;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJUQ0ljZUNhbmRpZGF0ZS5qcyJdLCJuYW1lcyI6WyJSVENJY2VDYW5kaWRhdGUiLCJjYW5kaWRhdGUiLCJzZHBNaWQiLCJzZHBNTGluZUluZGV4IiwiZm91bmRhdGlvbiIsImNvbXBvbmVudCIsInByaW9yaXR5IiwiaXAiLCJwcm90b2NvbCIsInBvcnQiLCJ0eXBlIiwidGNwVHlwZSIsInJlbGF0ZWRBZGRyZXNzIiwicmVsYXRlZFBvcnQiLCJ1c2VybmFtZUZyYWdtZW50IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwiZ2V0IiwicHJvdG90eXBlIiwidG9KU09OIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQW1CQSxJQUFJQSxrQkFBa0IsU0FBbEJBLGVBQWtCLENBQVNDLFNBQVQsRUFBbUJDLE1BQW5CLEVBQTBCQyxhQUExQixFQUF3Q0MsVUFBeEMsRUFBbURDLFNBQW5ELEVBQTZEQyxRQUE3RCxFQUFzRUMsRUFBdEUsRUFBeUVDLFFBQXpFLEVBQWtGQyxJQUFsRixFQUF1RkMsSUFBdkYsRUFBNEZDLE9BQTVGLEVBQW9HQyxjQUFwRyxFQUFtSEMsV0FBbkgsRUFBK0hDLGdCQUEvSCxFQUN0QjtBQUNDO0FBQ0FDLFFBQU9DLGNBQVAsQ0FBc0IsSUFBdEIsRUFBNEIsV0FBNUIsRUFBMkMsRUFBRUMsWUFBWSxJQUFkLEVBQW9CQyxjQUFjLEtBQWxDLEVBQXlDQyxLQUFLLGVBQVc7QUFBRSxVQUFPbEIsU0FBUDtBQUFvQixHQUEvRSxFQUEzQztBQUNBYyxRQUFPQyxjQUFQLENBQXNCLElBQXRCLEVBQTRCLFFBQTVCLEVBQXdDLEVBQUVDLFlBQVksSUFBZCxFQUFvQkMsY0FBYyxLQUFsQyxFQUF5Q0MsS0FBSyxlQUFXO0FBQUUsVUFBT2pCLE1BQVA7QUFBaUIsR0FBNUUsRUFBeEM7QUFDQWEsUUFBT0MsY0FBUCxDQUFzQixJQUF0QixFQUE0Qixl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anMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuaW50ZXJmYWNlIFJUQ0ljZUNhbmRpZGF0ZSB7XG4gICAgcmVhZG9ubHkgYXR0cmlidXRlIERPTVN0cmluZyAgICAgICAgICAgICAgIGNhbmRpZGF0ZTtcbiAgICByZWFkb25seSBhdHRyaWJ1dGUgRE9NU3RyaW5nPyAgICAgICAgICAgICAgc2RwTWlkO1xuICAgIHJlYWRvbmx5IGF0dHJpYnV0ZSB1bnNpZ25lZCBzaG9ydD8gICAgICAgICBzZHBNTGluZUluZGV4O1xuICAgIHJlYWRvbmx5IGF0dHJpYnV0ZSBET01TdHJpbmc/ICAgICAgICAgICAgICBmb3VuZGF0aW9uO1xuICAgIHJlYWRvbmx5IGF0dHJpYnV0ZSBSVENJY2VDb21wb25lbnQ/ICAgICAgICBjb21wb25lbnQ7XG4gICAgcmVhZG9ubHkgYXR0cmlidXRlIHVuc2lnbmVkIGxvbmc/ICAgICAgICAgIHByaW9yaXR5O1xuICAgIHJlYWRvbmx5IGF0dHJpYnV0ZSBET01TdHJpbmc/ICAgICAgICAgICAgICBpcDtcbiAgICByZWFkb25seSBhdHRyaWJ1dGUgUlRDSWNlUHJvdG9jb2w/ICAgICAgICAgcHJvdG9jb2w7XG4gICAgcmVhZG9ubHkgYXR0cmlidXRlIHVuc2lnbmVkIHNob3J0PyAgICAgICAgIHBvcnQ7XG4gICAgcmVhZG9ubHkgYXR0cmlidXRlIFJUQ0ljZUNhbmRpZGF0ZVR5cGU/ICAgIHR5cGU7XG4gICAgcmVhZG9ubHkgYXR0cmlidXRlIFJUQ0ljZVRjcENhbmRpZGF0ZVR5cGU/IHRjcFR5cGU7XG4gICAgcmVhZG9ubHkgYXR0cmlidXRlIERPTVN0cmluZz8gICAgICAgICAgICAgIHJlbGF0ZWRBZGRyZXNzO1xuICAgIHJlYWRvbmx5IGF0dHJpYnV0ZSB1bnNpZ25lZCBzaG9ydD8gICAgICAgICByZWxhdGVkUG9ydDtcbiAgICByZWFkb25seSBhdHRyaWJ1dGUgRE9NU3RyaW5nPyAgICAgICAgICAgICAgdXNlcm5hbWVGcmFnbWVudDtcbiAgICBSVENJY2VDYW5kaWRhdGVJbml0IHRvSlNPTigpO1xufTtcbiAqL1xudmFyIFJUQ0ljZUNhbmRpZGF0ZSA9IGZ1bmN0aW9uKGNhbmRpZGF0ZSxzZHBNaWQsc2RwTUxpbmVJbmRleCxmb3VuZGF0aW9uLGNvbXBvbmVudCxwcmlvcml0eSxpcCxwcm90b2NvbCxwb3J0LHR5cGUsdGNwVHlwZSxyZWxhdGVkQWRkcmVzcyxyZWxhdGVkUG9ydCx1c2VybmFtZUZyYWdtZW50KSBcbntcblx0Ly9EaXJlY3QgYXR0cmlidXRlcyBmcm9tIGluaXRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwiY2FuZGlkYXRlXCJcdFx0LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogZmFsc2UsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBjYW5kaWRhdGU7XHRcdH19KTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic2RwTWlkXCJcdFx0LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogZmFsc2UsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBzZHBNaWQ7XHRcdH19KTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwic2RwTUxpbmVJbmRleFwiXHQsIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiBmYWxzZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHNkcE1MaW5lSW5kZXg7XHR9fSk7XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImZvdW5kYXRpb25cIlx0LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogZmFsc2UsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBmb3VuZGF0aW9uO1x0XHR9fSk7XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImNvbXBvbmVudFwiXHRcdCwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IGZhbHNlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY29tcG9uZW50O1x0XHR9fSk7XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInByaW9yaXR5XCJcdFx0LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogZmFsc2UsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBwcmlvcml0eTtcdFx0fX0pO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJpcFwiXHRcdCwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IGZhbHNlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gaXA7XHRcdFx0fX0pO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJwcm90b2NvbFwiXHRcdCwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IGZhbHNlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gcHJvdG9jb2w7XHRcdH19KTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicG9ydFwiXHRcdCwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IGZhbHNlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gcG9ydDtcdFx0fX0pO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJ0eXBlXCJcdFx0LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogZmFsc2UsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0eXBlO1x0XHR9fSk7XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInRjcFR5cGVcIlx0XHQsIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiBmYWxzZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRjcFR5cGU7XHRcdH19KTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmVsYXRlZEFkZHJlc3NcIlx0LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogZmFsc2UsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiByZWxhdGVkQWRkcmVzcztcdH19KTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwicmVsYXRlZFBvcnRcIlx0LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogZmFsc2UsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiByZWxhdGVkUG9ydDtcdH19KTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidXNlcm5hbWVGcmFnbWVudFwiXHQsIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiBmYWxzZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHVzZXJuYW1lRnJhZ21lbnQ7XHR9fSk7XG5cdFxuXHRyZXR1cm4gdGhpcztcbn07XG5cblJUQ0ljZUNhbmRpZGF0ZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24oKSBcbntcblx0cmV0dXJuIHtcblx0XHRjYW5kaWRhdGVcdDogdGhpcy5jYW5kaWRhdGUsXG5cdFx0c2RwTWlkXHRcdDogdGhpcy5zZHBNaWQsXG5cdFx0c2RwTUxpbmVJbmRleFx0OiB0aGlzLnNkcE1MaW5lSW5kZXgsXG5cdFx0dXNlcm5hbWVGcmFnbWVudDogdGhpcy51c2VybmFtZUZyYWdtZW50XG5cdH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJUQ0ljZUNhbmRpZGF0ZTtcbiJdfQ==
},{}],6:[function(require,module,exports){
"use strict";

var WebRTCProxy = require("./WebRTCProxy.js");
var RTCIceCandidate = require("./RTCIceCandidate.js");
var RTCRtpSender = require("./RTCRtpSender.js");
var Promise = require("promise-polyfill");
var EventTarget = require("event-target-shim/dist/event-target-shim.umd.js").EventTarget;
var defineEventAttribute = require("event-target-shim/dist/event-target-shim.umd.js").defineEventAttribute;

var ThrowInvalidStateError = function ThrowInvalidStateError() {
	var e = new Error("RTCPeerConnection is already closed");
	e.name = "InvalidStateError";
	throw e;
};

/*
[Constructor(optional RTCConfiguration configuration),Exposed=Window]
interface RTCPeerConnection : EventTarget {
    Promise<RTCSessionDescriptionInit> createOffer(optional RTCOfferOptions options);
    Promise<RTCSessionDescriptionInit> createAnswer(optional RTCAnswerOptions options);
    Promise<void>                      setLocalDescription(RTCSessionDescriptionInit description);

    readonly attribute RTCSessionDescription? localDescription;
    readonly attribute RTCSessionDescription? currentLocalDescription;
    readonly attribute RTCSessionDescription? pendingLocalDescription;

    Promise<void>                      setRemoteDescription(RTCSessionDescriptionInit description);

    readonly attribute RTCSessionDescription? remoteDescription;
    readonly attribute RTCSessionDescription? currentRemoteDescription;
    readonly attribute RTCSessionDescription? pendingRemoteDescription;

    Promise<void>                      addIceCandidate((RTCIceCandidateInit or RTCIceCandidate) candidate);

    readonly attribute RTCSignalingState      signalingState;
    readonly attribute RTCIceGatheringState   iceGatheringState;
    readonly attribute RTCIceConnectionState  iceConnectionState;
    readonly attribute RTCPeerConnectionState connectionState;
    readonly attribute boolean?               canTrickleIceCandidates;
    static sequence<RTCIceServer>      getDefaultIceServers();
    RTCConfiguration                   getConfiguration();
    void                               setConfiguration(RTCConfiguration configuration);
    void                               close();

	attribute EventHandler           onnegotiationneeded;
	attribute EventHandler           onicecandidate;
	attribute EventHandler           onicecandidateerror;
	attribute EventHandler           onsignalingstatechange;
	attribute EventHandler           oniceconnectionstatechange;
	attribute EventHandler           onicegatheringstatechange;
	attribute EventHandler           onconnectionstatechange;
};
*/
var RTCPeerConnection = function RTCPeerConnection(configuration) {
	var self = this;
	//Init event targetr
	EventTarget.call(this);

	//Create private arfs
	var priv = this.priv = {};

	priv.senders = {};
	priv.remoteStreams = {};
	priv.configuration = configuration;
	priv.lastOffer = null;
	priv.lastAnswer = null;
	priv.isClosed = false;

	//Emtpy attributes
	priv.currentLocalDescription = null;
	priv.pendingLocalDescription = null;

	priv.currentRemoteDescription = null;
	priv.pendingRemoteDescription = null;

	var signalingState = "stable";
	var iceGatheringState = "new";
	var iceConnectionState = "new";
	var connectionState = "new";

	//TODO: Implement this
	var canTrickleIceCandidates = null;

	//Define read only properties for each attribute
	//The localDescription attribute must return pendingLocalDescription if it is not null and otherwise it must return currentLocalDescription .
	Object.defineProperty(this, 'localDescription', { enumerable: true, configurable: false, get: function get() {
			return priv.pendingLocalDescription || priv.currentLocalDescription;
		} });
	Object.defineProperty(this, 'currentLocalDescription', { enumerable: true, configurable: false, get: function get() {
			return priv.currentLocalDescription;
		} });
	Object.defineProperty(this, 'pendingLocalDescription', { enumerable: true, configurable: false, get: function get() {
			return priv.pendingLocalDescription;
		} });

	Object.defineProperty(this, 'remoteDescription', { enumerable: true, configurable: false, get: function get() {
			return priv.currentRemoteDescription || priv.pendingRemoteDescription;
		} });
	Object.defineProperty(this, 'currentRemoteDescription', { enumerable: true, configurable: false, get: function get() {
			return priv.currentRemoteDescription;
		} });
	Object.defineProperty(this, 'pendingRemoteDescription', { enumerable: true, configurable: false, get: function get() {
			return priv.pendingRemoteDescription;
		} });

	Object.defineProperty(this, 'signalingState', { enumerable: true, configurable: false, get: function get() {
			return signalingState;
		} });
	Object.defineProperty(this, 'iceGatheringState', { enumerable: true, configurable: false, get: function get() {
			return iceGatheringState;
		} });
	Object.defineProperty(this, 'iceConnectionState', { enumerable: true, configurable: false, get: function get() {
			return iceConnectionState;
		} });
	Object.defineProperty(this, 'connectionState', { enumerable: true, configurable: false, get: function get() {
			return connectionState;
		} });

	Object.defineProperty(this, 'canTrickleIceCandidates', { enumerable: true, configurable: false, get: function get() {
			return canTrickleIceCandidates;
		} });

	function createEvent(name) {
		var e = document.createEvent("Event");
		e.initEvent(name, false, false);
		return e;
	}
	function fire(name) {
		self.dispatchEvent(createEvent(name));
	}

	// Create new native pc
	priv.pc = WebRTCProxy.createPeerConnection(configuration);

	//Event handlers
	priv.pc.onnegotiationneeded = function () {
		fire("negotiationneeded");
	};
	priv.pc.onicecandidate = function (candidate, sdpMid, sdpMLineIndex, foundation, component, priority, ip, protocol, port, type, tcpType, relatedAddress, relatedPort, usernameFragment, url) {
		var e = createEvent("icecandidate");
		if (candidate) e.candidate = new RTCIceCandidate(candidate, sdpMid, sdpMLineIndex, foundation, component, priority, ip, protocol, port, type, tcpType, relatedAddress, relatedPort, usernameFragment);else e.candidate = null;
		e.url = url;
		self.dispatchEvent(e);
	};
	priv.pc.onicecandidateerror = function () {
		fire("icecandidateerror");
	};
	priv.pc.onsignalingstatechange = function (state) {
		signalingState = state;
		fire("signalingstatechange");
		if ("closed" === state) {
			priv.isClosed = true;
			delete priv.pc;
		}
	};
	priv.pc.oniceconnectionstatechange = function (state) {
		iceConnectionState = state;
		fire("iceconnectionstatechange");
	};
	priv.pc.onicegatheringstatechange = function (state) {
		iceGatheringState = state;
		fire("icegatheringstatechange");
	};
	priv.pc.onconnectionstatechange = function (state) {
		connectionState = state;
		fire("connectionState");
	};
	priv.pc.onaddstream = function (label) {
		//Create new stream
		var stream = new MediaStream(label);

		//Get remote stream tracks
		priv.pc.getRemoteStreamTracks(label, function () {
			//Parse arguments
			var tracks = Array.prototype.slice.call(arguments, 0);

			//For each track
			for (var i = 0; i < tracks.length; ++i) {
				//Create a wrapper
				stream.addTrack(new MediaStreamTrack(tracks[i]));
			} //Get all tracks
			var mediaStreamTracks = stream.getTracks();

			//For each track in stream
			for (var i = 0; i < mediaStreamTracks.length; ++i) {
				var e = createEvent("track");
				e.track = mediaStreamTracks[i];
				e.receiver = { track: mediaStreamTracks[i] };
				e.transceiver = { receiver: e.receiver };
				e.streams = [stream];
				self.dispatchEvent(e);
			}
		});
	};

	priv.pc.onremovestream = function (label) {
		//Delete from remote stream list
		delete priv.remotes[label];
	};
};

//Inherit from Event Target
RTCPeerConnection.prototype = Object.create(EventTarget.prototype, {
	constructor: {
		value: RTCPeerConnection,
		configurable: true,
		writable: true
	}
});

// Define Event Handlers
defineEventAttribute(RTCPeerConnection.prototype, "negotiationneeded");
defineEventAttribute(RTCPeerConnection.prototype, "icecandidate");
defineEventAttribute(RTCPeerConnection.prototype, "icecandidateerror");
defineEventAttribute(RTCPeerConnection.prototype, "signalingstatechange");
defineEventAttribute(RTCPeerConnection.prototype, "iceconnectionstatechange");
defineEventAttribute(RTCPeerConnection.prototype, "icegatheringstatechange");
defineEventAttribute(RTCPeerConnection.prototype, "connectionstatechange");
defineEventAttribute(RTCPeerConnection.prototype, "addtrack");

RTCPeerConnection.prototype.getConfiguration = function () {
	return this.priv.configuration;
};

RTCPeerConnection.prototype.getDefaultIceServers = function () {
	return [];
};

RTCPeerConnection.prototype.createOffer = function (options) {
	var priv = this.priv;

	return new Promise(function (resolve, reject) {
		if (!priv.pc || priv.isClosed) return ThrowInvalidStateError();
		priv.pc.createOffer(function (type, sdp) {
			priv.lastOffer = sdp;
			resolve({
				type: type,
				sdp: sdp
			});
		}, reject, options);
	});
};

RTCPeerConnection.prototype.createAnswer = function (options) {
	var priv = this.priv;

	return new Promise(function (resolve, reject) {
		if (!priv.pc || priv.isClosed) return ThrowInvalidStateError();
		priv.pc.createAnswer(function (type, sdp) {
			priv.lastAnswer = sdp;
			resolve({
				type: type,
				sdp: sdp
			});
		}, reject, options);
	});
};

RTCPeerConnection.prototype.setLocalDescription = function (description) {
	var priv = this.priv;

	//If description.sdp is the empty string and description.type is "answer" or "pranswer", set description.sdp to lastAnswer.
	if (!description.sdp && ("answer" === description.type || "pranser" === description.type)) description.sdp = priv.lastAnswer;

	//If description.sdp is the empty string and description.type is "offer", set description.sdp to lastOffer.
	if (!description.sdp && "offer" === description.type) description.sdp = priv.lastOffer;

	return new Promise(function (resolve, reject) {
		if (!priv.pc || priv.isClosed) return ThrowInvalidStateError();
		priv.pc.setLocalDescription(function () {
			//If description is applied successfully:
			switch (description.type) {
				case "offer":
					//If description is of type "offer", set connection.pendingLocalDescription to description and signaling state to "have-local-offer".
					priv.pendingLocalDescription = description;
					break;
				case "answer":
					//If description is of type "answer", then this completes an offer answer negotiation. 
					//Set connection's currentLocalDescription to description and currentRemoteDescription to the value of pendingRemoteDescription . 
					//Set both pendingRemoteDescription and pendingLocalDescription to null. Finally set connection's signaling state to "stable"
					priv.currentLocalDescription = description;
					priv.currentRemoteDescription = priv.pendingRemoteDescription;
					priv.pendingLocalDescription = null;
					priv.pendingRemoteDescription = null;
					break;
				case "rollback":
					//If description is of type "rollback", then this is a rollback. Set connection.pendingLocalDescription to null and signaling state to "stable".
					priv.pendingLocalDescription = null;
					break;
				case "pranswer":
					//If description is of type "pranswer", then set connection.pendingLocalDescription to description and signaling state to "have-local-pranswer".
					priv.pendingLocalDescription = description;
					break;
			}
			//Resolve promiose
			resolve();
		}, reject, description);
	});
};

RTCPeerConnection.prototype.setRemoteDescription = function (description) {
	var priv = this.priv;

	return new Promise(function (resolve, reject) {
		if (!priv.pc || priv.isClosed) return ThrowInvalidStateError();
		priv.pc.setRemoteDescription(function () {
			//If description is applied successfully:
			switch (description.type) {
				case "offer":
					//If description is of type "offer", set connection.pendingRemoteDescription attribute to description and signaling state to "have-remote-offer".
					priv.pendingRemoteDescription = description;
					break;
				case "answer":
					//If description is of type "answer", then this completes an offer answer negotiation. 
					//Set connection's currentRemoteDescription to description and currentLocalDescription to the value of pendingLocalDescription . 
					//Set both pendingRemoteDescription and pendingLocalDescription to null. Finally set connection's signaling state to "stable"
					priv.currentRemoteDescription = description;
					priv.currentLocalDescription = priv.pendingLocalDescription;
					priv.pendingLocalDescription = null;
					priv.pendingRemoteDescription = null;
					break;
				case "rollback":
					//If description is of type "rollback", then this is a rollback. Set connection.pendingRemoteDescription to null and signaling state to "stable".
					priv.pendingRemoteDescription = null;
					break;
				case "pranswer":
					//If description is of type "pranswer", then set connection.pendingRemoteDescription to description and signaling state to "have-remote-pranswer".
					priv.pendingRemoteDescription = description;
					break;
			}
			//Resolve promiose
			resolve();
		}, reject, description);
	});
};

RTCPeerConnection.prototype.addIceCandidate = function (candidate) {
	var priv = this.priv;

	return new Promise(function (resolve, reject) {
		if (!priv.pc || priv.isClosed) return ThrowInvalidStateError();
		priv.pc.addIceCandidate(function (current, pending) {
			//Update current remote description sdp
			if (priv.currentRemoteDescriptiont) {
				if (current.length) priv.currentRemoteDescriptiont.sdp = current;else priv.currentRemoteDescriptiont.sdp = null;
			}
			//Update pending remote description sdp
			if (priv.pendingRemoteDescription) {
				if (pending.length) priv.pendingRemoteDescription.sdp = pending;else priv.pendingRemoteDescription.sdp = null;
			}
			//Resolve promise
			resolve();
		}, reject, candidate);
	});
};

RTCPeerConnection.prototype.close = function () {

	var priv = this.priv;
	if (!priv.pc || priv.isClosed) return ThrowInvalidStateError();
	//Close it
	priv.pc.close();
};
/*
partial interface RTCPeerConnection {
    sequence<RTCRtpSender>      getSenders();
    sequence<RTCRtpReceiver>    getReceivers();
    sequence<RTCRtpTransceiver> getTransceivers();
    RTCRtpSender                addTrack(MediaStreamTrack track, MediaStream... streams);
    void                        removeTrack(RTCRtpSender sender);
    RTCRtpTransceiver           addTransceiver((MediaStreamTrack or DOMString) trackOrKind, optional RTCRtpTransceiverInit init);
    attribute EventHandler ontrack;
};
*/
RTCPeerConnection.prototype.addTrack = function () {
	var priv = this.priv;

	if (!priv.pc || priv.isClosed) return ThrowInvalidStateError();

	//Parse arguments
	var track = arguments[0];
	var streams = Array.prototype.slice.call(arguments, 1);

	//Ensure that we are attaching to at most 1, as it is not supported in libwebrtc
	if (streams.length > 1) throw new Error("Adding track to more than one stream is not currently supported");

	//Get stream label, as it is the only param needed by libwebrtc
	var label = streams.length ? streams[0].id : "";

	//Add native track to native object it only needs the stream label not the stream
	var sender = priv.pc.addTrack(track.priv.track, label);

	//Check result
	if (!sender) return null;

	//Create sender
	var rtpSender = new RTCRtpSender(sender);

	//Get native sender id
	var senderId = rtpSender.priv.id;

	//Add to senders
	priv.senders[senderId] = rtpSender;

	return rtpSender;
};

RTCPeerConnection.prototype.addStream = function (stream) {
	var tracks = stream.getTracks();
	for (var i = 0; i < tracks.length; ++i) {
		this.addTrack(tracks[i], stream);
	}
};

RTCPeerConnection.prototype.removeTrack = function (rtpSender) {
	var priv = this.priv;

	if (!priv.pc || priv.isClosed) return ThrowInvalidStateError();

	//Check if sender is invalid
	if (!rtpSender || !rtpSender.priv.sender || !rtpSender.priv.track) return ThrowInvalidStateError();

	//Get native sender id
	var senderId = rtpSender.priv.id;

	//Check if senders is from this pc
	if (!priv.senders.hasOwnProperty(senderId)) return ThrowInvalidStateError();

	//Pass the nateive object
	priv.pc.removeTrack(rtpSender.priv.sender);

	//Set sender track to null
	rtpSender.priv.track = null;

	//Remove from senders
	delete priv.senders[senderId];
};

defineEventAttribute(RTCPeerConnection.prototype, "track");

module.exports = RTCPeerConnection;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJUQ1BlZXJDb25uZWN0aW9uLmpzIl0sIm5hbWVzIjpbIldlYlJUQ1Byb3h5IiwicmVxdWlyZSIsIlJUQ0ljZUNhbmRpZGF0ZSIsIlJUQ1J0cFNlbmRlciIsIlByb21pc2UiLCJFdmVudFRhcmdldCIsImRlZmluZUV2ZW50QXR0cmlidXRlIiwiVGhyb3dJbnZhbGlkU3RhdGVFcnJvciIsImUiLCJFcnJvciIsIm5hbWUiLCJSVENQZWVyQ29ubmVjdGlvbiIsImNvbmZpZ3VyYXRpb24iLCJzZWxmIiwiY2FsbCIsInByaXYiLCJzZW5kZXJzIiwicmVtb3RlU3RyZWFtcyIsImxhc3RPZmZlciIsImxhc3RBbnN3ZXIiLCJpc0Nsb3NlZCIsImN1cnJlbnRMb2NhbERlc2NyaXB0aW9uIiwicGVuZGluZ0xvY2FsRGVzY3JpcHRpb24iLCJjdXJyZW50UmVtb3RlRGVzY3JpcHRpb24iLCJwZW5kaW5nUmVtb3RlRGVzY3JpcHRpb24iLCJzaWduYWxpbmdTdGF0ZSIsImljZUdhdGhlcmluZ1N0YXRlIiwiaWNlQ29ubmVjdGlvblN0YXRlIiwiY29ubmVjdGlvblN0YXRlIiwiY2FuVHJpY2tsZUljZUNhbmRpZGF0ZXMiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJnZXQiLCJjcmVhdGVFdmVudCIsImRvY3VtZW50IiwiaW5pdEV2ZW50IiwiZmlyZSIsImRpc3BhdGNoRXZlbnQiLCJwYyIsImNyZWF0ZVBlZXJDb25uZWN0aW9uIiwib25uZWdvdGlhdGlvbm5lZWRlZCIsIm9uaWNlY2FuZGlkYXRlIiwiY2FuZGlkYXRlIiwic2RwTWlkIiwic2RwTUxpbmVJbmRleCIsImZvdW5kYXRpb24iLCJjb21wb25lbnQiLCJwcmlvcml0eSIsImlwIiwicHJvdG9jb2wiLCJwb3J0IiwidHlwZSIsInRjcFR5cGUiLCJyZWxhdGVkQWRkcmVzcyIsInJlbGF0ZWRQb3J0IiwidXNlcm5hbWVGcmFnbWVudCIsInVybCIsIm9uaWNlY2FuZGlkYXRlZXJyb3IiLCJvbnNpZ25hbGluZ3N0YXRlY2hhbmdlIiwic3RhdGUiLCJvbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSIsIm9uaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2UiLCJvbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSIsIm9uYWRkc3RyZWFtIiwibGFiZWwiLCJzdHJlYW0iLCJNZWRpYVN0cmVhbSIsImdldFJlbW90ZVN0cmVhbVRyYWNrcyIsInRyYWNrcyIsIkFycmF5IiwicHJvdG90eXBlIiwic2xpY2UiLCJhcmd1bWVudHMiLCJpIiwibGVuZ3RoIiwiYWRkVHJhY2siLCJNZWRpYVN0cmVhbVRyYWNrIiwibWVkaWFTdHJlYW1UcmFja3MiLCJnZXRUcmFja3MiLCJ0cmFjayIsInJlY2VpdmVyIiwidHJhbnNjZWl2ZXIiLCJzdHJlYW1zIiwib25yZW1vdmVzdHJlYW0iLCJyZW1vdGVzIiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJ2YWx1ZSIsIndyaXRhYmxlIiwiZ2V0Q29uZmlndXJhdGlvbiIsImdldERlZmF1bHRJY2VTZXJ2ZXJzIiwiY3JlYXRlT2ZmZXIiLCJvcHRpb25zIiwicmVzb2x2ZSIsInJlamVjdCIsInNkcCIsImNyZWF0ZUFuc3dlciIsInNldExvY2FsRGVzY3JpcHRpb24iLCJkZXNjcmlwdGlvbiIsInNldFJlbW90ZURlc2NyaXB0aW9uIiwiYWRkSWNlQ2FuZGlkYXRlIiwiY3VycmVudCIsInBlbmRpbmciLCJjdXJyZW50UmVtb3RlRGVzY3JpcHRpb250IiwiY2xvc2UiLCJpZCIsInNlbmRlciIsInJ0cFNlbmRlciIsInNlbmRlcklkIiwiYWRkU3RyZWFtIiwicmVtb3ZlVHJhY2siLCJoYXNPd25Qcm9wZXJ0eSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsY0FBZ0JDLFFBQVEsa0JBQVIsQ0FBcEI7QUFDQSxJQUFJQyxrQkFBbUJELFFBQVEsc0JBQVIsQ0FBdkI7QUFDQSxJQUFJRSxlQUFnQkYsUUFBUSxtQkFBUixDQUFwQjtBQUNBLElBQUlH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QixFQUErQixFQUFFRCxDQUFqQztBQUNDLE9BQUtFLFFBQUwsQ0FBY1AsT0FBT0ssQ0FBUCxDQUFkLEVBQXdCUixNQUF4QjtBQUREO0FBRUEsQ0FMRDs7QUFPQXhELGtCQUFrQjZELFNBQWxCLENBQTRCd0MsV0FBNUIsR0FBMEMsVUFBU0gsU0FBVCxFQUMxQztBQUNDLEtBQUk5RixPQUFPLEtBQUtBLElBQWhCOztBQUVBLEtBQUksQ0FBQ0EsS0FBS3lCLEVBQU4sSUFBWXpCLEtBQUtLLFFBQXJCLEVBQ0MsT0FBT2Isd0JBQVA7O0FBRUQ7QUFDQSxLQUFJLENBQUNzRyxTQUFELElBQWMsQ0FBQ0EsVUFBVTlGLElBQVYsQ0FBZTZGLE1BQTlCLElBQXdDLENBQUNDLFVBQVU5RixJQUFWLENBQWVrRSxLQUE1RCxFQUNDLE9BQU8xRSx3QkFBUDs7QUFFRDtBQUNBLEtBQUl1RyxXQUFXRCxVQUFVOUYsSUFBVixDQUFlNEYsRUFBOUI7O0FBRUE7QUFDQSxLQUFJLENBQUM1RixLQUFLQyxPQUFMLENBQWFpRyxjQUFiLENBQTRCSCxRQUE1QixDQUFMLEVBQ0MsT0FBT3ZHLHdCQUFQOztBQUVEO0FBQ0FRLE1BQUt5QixFQUFMLENBQVF3RSxXQUFSLENBQW9CSCxVQUFVOUYsSUFBVixDQUFlNkYsTUFBbkM7O0FBRUE7QUFDQUMsV0FBVTlGLElBQVYsQ0FBZWtFLEtBQWYsR0FBdUIsSUFBdkI7O0FBRUE7QUFDQSxRQUFPbEUsS0FBS0MsT0FBTCxDQUFhOEYsUUFBYixDQUFQO0FBQ0EsQ0ExQkQ7O0FBNEJBeEcscUJBQXFCSyxrQkFBa0I2RCxTQUF2QyxFQUFrRCxPQUFsRDs7QUFFQTBDLE9BQU9DLE9BQVAsR0FBaUJ4RyxpQkFBakIiLCJmaWxlIjoiUlRDUGVlckNvbm5lY3Rpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgV2ViUlRDUHJveHlcdFx0XHQ9IHJlcXVpcmUoXCIuL1dlYlJUQ1Byb3h5LmpzXCIpO1xudmFyIFJUQ0ljZUNhbmRpZGF0ZVx0XHQ9IHJlcXVpcmUoXCIuL1JUQ0ljZUNhbmRpZGF0ZS5qc1wiKTtcbnZhciBSVENSdHBTZW5kZXJcdFx0PSByZXF1aXJlKFwiLi9SVENSdHBTZW5kZXIuanNcIik7XG52YXIgUHJvbWlzZVx0XHRcdD0gcmVxdWlyZShcInByb21pc2UtcG9seWZpbGxcIik7XG52YXIgRXZlbnRUYXJnZXRcdFx0XHQ9IHJlcXVpcmUoXCJldmVudC10YXJnZXQtc2hpbS9kaXN0L2V2ZW50LXRhcmdldC1zaGltLnVtZC5qc1wiKS5FdmVudFRhcmdldDtcbnZhciBkZWZpbmVFdmVudEF0dHJpYnV0ZVx0PSByZXF1aXJlKFwiZXZlbnQtdGFyZ2V0LXNoaW0vZGlzdC9ldmVudC10YXJnZXQtc2hpbS51bWQuanNcIikuZGVmaW5lRXZlbnRBdHRyaWJ1dGU7XG5cbnZhciBUaHJvd0ludmFsaWRTdGF0ZUVycm9yID0gZnVuY3Rpb24oKSBcbntcblx0dmFyIGUgPSBuZXcgRXJyb3IoXCJSVENQZWVyQ29ubmVjdGlvbiBpcyBhbHJlYWR5IGNsb3NlZFwiKTtcblx0ZS5uYW1lID0gXCJJbnZhbGlkU3RhdGVFcnJvclwiO1xuXHR0aHJvdyBlO1xufTtcblxuLypcbltDb25zdHJ1Y3RvcihvcHRpb25hbCBSVENDb25maWd1cmF0aW9uIGNvbmZpZ3VyYXRpb24pLEV4cG9zZWQ9V2luZG93XVxuaW50ZXJmYWNlIFJUQ1BlZXJDb25uZWN0aW9uIDogRXZlbnRUYXJnZXQge1xuICAgIFByb21pc2U8UlRDU2Vzc2lvbkRlc2NyaXB0aW9uSW5pdD4gY3JlYXRlT2ZmZXIob3B0aW9uYWwgUlRDT2ZmZXJPcHRpb25zIG9wdGlvbnMpO1xuICAgIFByb21pc2U8UlRDU2Vzc2lvbkRlc2NyaXB0aW9uSW5pdD4gY3JlYXRlQW5zd2VyKG9wdGlvbmFsIFJUQ0Fuc3dlck9wdGlvbnMgb3B0aW9ucyk7XG4gICAgUHJvbWlzZTx2b2lkPiAgICAgICAgICAgICAgICAgICAgICBzZXRMb2NhbERlc2NyaXB0aW9uKFJUQ1Nlc3Npb25EZXNjcmlwdGlvbkluaXQgZGVzY3JpcHRpb24pO1xuXG4gICAgcmVhZG9ubHkgYXR0cmlidXRlIFJUQ1Nlc3Npb25EZXNjcmlwdGlvbj8gbG9jYWxEZXNjcmlwdGlvbjtcbiAgICByZWFkb25seSBhdHRyaWJ1dGUgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uPyBjdXJyZW50TG9jYWxEZXNjcmlwdGlvbjtcbiAgICByZWFkb25seSBhdHRyaWJ1dGUgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uPyBwZW5kaW5nTG9jYWxEZXNjcmlwdGlvbjtcblxuICAgIFByb21pc2U8dm9pZD4gICAgICAgICAgICAgICAgICAgICAgc2V0UmVtb3RlRGVzY3JpcHRpb24oUlRDU2Vzc2lvbkRlc2NyaXB0aW9uSW5pdCBkZXNjcmlwdGlvbik7XG5cbiAgICByZWFkb25seSBhdHRyaWJ1dGUgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uPyByZW1vdGVEZXNjcmlwdGlvbjtcbiAgICByZWFkb25seSBhdHRyaWJ1dGUgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uPyBjdXJyZW50UmVtb3RlRGVzY3JpcHRpb247XG4gICAgcmVhZG9ubHkgYXR0cmlidXRlIFJUQ1Nlc3Npb25EZXNjcmlwdGlvbj8gcGVuZGluZ1JlbW90ZURlc2NyaXB0aW9uO1xuXG4gICAgUHJvbWlzZTx2b2lkPiAgICAgICAgICAgICAgICAgICAgICBhZGRJY2VDYW5kaWRhdGUoKFJUQ0ljZUNhbmRpZGF0ZUluaXQgb3IgUlRDSWNlQ2FuZGlkYXRlKSBjYW5kaWRhdGUpO1xuXG4gICAgcmVhZG9ubHkgYXR0cmlidXRlIFJUQ1NpZ25hbGluZ1N0YXRlICAgICAgc2lnbmFsaW5nU3RhdGU7XG4gICAgcmVhZG9ubHkgYXR0cmlidXRlIFJUQ0ljZUdhdGhlcmluZ1N0YXRlICAgaWNlR2F0aGVyaW5nU3RhdGU7XG4gICAgcmVhZG9ubHkgYXR0cmlidXRlIFJUQ0ljZUNvbm5lY3Rpb25TdGF0ZSAgaWNlQ29ubmVjdGlvblN0YXRlO1xuICAgIHJlYWRvbmx5IGF0dHJpYnV0ZSBSVENQZWVyQ29ubmVjdGlvblN0YXRlIGNvbm5lY3Rpb25TdGF0ZTtcbiAgICByZWFkb25seSBhdHRyaWJ1dGUgYm9vbGVhbj8gICAgICAgICAgICAgICBjYW5Ucmlja2xlSWNlQ2FuZGlkYXRlcztcbiAgICBzdGF0aWMgc2VxdWVuY2U8UlRDSWNlU2VydmVyPiAgICAgIGdldERlZmF1bHRJY2VTZXJ2ZXJzKCk7XG4gICAgUlRDQ29uZmlndXJhdGlvbiAgICAgICAgICAgICAgICAgICBnZXRDb25maWd1cmF0aW9uKCk7XG4gICAgdm9pZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDb25maWd1cmF0aW9uKFJUQ0NvbmZpZ3VyYXRpb24gY29uZmlndXJhdGlvbik7XG4gICAgdm9pZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZSgpO1xuXG5cdGF0dHJpYnV0ZSBFdmVudEhhbmRsZXIgICAgICAgICAgIG9ubmVnb3RpYXRpb25uZWVkZWQ7XG5cdGF0dHJpYnV0ZSBFdmVudEhhbmRsZXIgICAgICAgICAgIG9uaWNlY2FuZGlkYXRlO1xuXHRhdHRyaWJ1dGUgRXZlbnRIYW5kbGVyICAgICAgICAgICBvbmljZWNhbmRpZGF0ZWVycm9yO1xuXHRhdHRyaWJ1dGUgRXZlbnRIYW5kbGVyICAgICAgICAgICBvbnNpZ25hbGluZ3N0YXRlY2hhbmdlO1xuXHRhdHRyaWJ1dGUgRXZlbnRIYW5kbGVyICAgICAgICAgICBvbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZTtcblx0YXR0cmlidXRlIEV2ZW50SGFuZGxlciAgICAgICAgICAgb25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZTtcblx0YXR0cmlidXRlIEV2ZW50SGFuZGxlciAgICAgICAgICAgb25jb25uZWN0aW9uc3RhdGVjaGFuZ2U7XG59O1xuKi9cbnZhciBSVENQZWVyQ29ubmVjdGlvbiA9IGZ1bmN0aW9uKGNvbmZpZ3VyYXRpb24pXG57XG5cdHZhciBzZWxmID0gdGhpcztcblx0Ly9Jbml0IGV2ZW50IHRhcmdldHJcblx0RXZlbnRUYXJnZXQuY2FsbCh0aGlzKTtcblx0XG5cdC8vQ3JlYXRlIHByaXZhdGUgYXJmc1xuXHR2YXIgcHJpdiA9IHRoaXMucHJpdiA9IHt9O1xuXHRcblx0cHJpdi5zZW5kZXJzID0ge307XG5cdHByaXYucmVtb3RlU3RyZWFtcyA9ICB7fTtcblx0cHJpdi5jb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbjtcblx0cHJpdi5sYXN0T2ZmZXIgID0gbnVsbDtcblx0cHJpdi5sYXN0QW5zd2VyID0gbnVsbDtcblx0cHJpdi5pc0Nsb3NlZCAgID0gZmFsc2U7XG5cdFxuXHQvL0VtdHB5IGF0dHJpYnV0ZXNcblx0cHJpdi5jdXJyZW50TG9jYWxEZXNjcmlwdGlvblx0PSBudWxsO1xuXHRwcml2LnBlbmRpbmdMb2NhbERlc2NyaXB0aW9uXHQ9IG51bGw7XG5cblx0cHJpdi5jdXJyZW50UmVtb3RlRGVzY3JpcHRpb24gPSBudWxsO1xuXHRwcml2LnBlbmRpbmdSZW1vdGVEZXNjcmlwdGlvbiA9IG51bGw7XG5cdFxuXHR2YXIgc2lnbmFsaW5nU3RhdGVcdD0gXCJzdGFibGVcIjtcblx0dmFyIGljZUdhdGhlcmluZ1N0YXRlXHQ9IFwibmV3XCI7XG5cdHZhciBpY2VDb25uZWN0aW9uU3RhdGVcdD0gXCJuZXdcIjtcblx0dmFyIGNvbm5lY3Rpb25TdGF0ZVx0PSBcIm5ld1wiO1xuXHRcblx0Ly9UT0RPOiBJbXBsZW1lbnQgdGhpc1xuXHR2YXIgY2FuVHJpY2tsZUljZUNhbmRpZGF0ZXMgPSBudWxsO1xuXHRcblx0Ly9EZWZpbmUgcmVhZCBvbmx5IHByb3BlcnRpZXMgZm9yIGVhY2ggYXR0cmlidXRlXG5cdC8vVGhlIGxvY2FsRGVzY3JpcHRpb24gYXR0cmlidXRlIG11c3QgcmV0dXJuIHBlbmRpbmdMb2NhbERlc2NyaXB0aW9uIGlmIGl0IGlzIG5vdCBudWxsIGFuZCBvdGhlcndpc2UgaXQgbXVzdCByZXR1cm4gY3VycmVudExvY2FsRGVzY3JpcHRpb24gLlxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2xvY2FsRGVzY3JpcHRpb24nXHRcdCwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IGZhbHNlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gcHJpdi5wZW5kaW5nTG9jYWxEZXNjcmlwdGlvbiB8fCBwcml2LmN1cnJlbnRMb2NhbERlc2NyaXB0aW9uO1x0fX0pO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2N1cnJlbnRMb2NhbERlc2NyaXB0aW9uJ1x0LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogZmFsc2UsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBwcml2LmN1cnJlbnRMb2NhbERlc2NyaXB0aW9uO1x0fX0pO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3BlbmRpbmdMb2NhbERlc2NyaXB0aW9uJ1x0LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogZmFsc2UsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBwcml2LnBlbmRpbmdMb2NhbERlc2NyaXB0aW9uO1x0fX0pO1xuXG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncmVtb3RlRGVzY3JpcHRpb24nXHRcdCwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IGZhbHNlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gcHJpdi5jdXJyZW50UmVtb3RlRGVzY3JpcHRpb24gfHwgcHJpdi5wZW5kaW5nUmVtb3RlRGVzY3JpcHRpb247IH19KTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdjdXJyZW50UmVtb3RlRGVzY3JpcHRpb24nXHQsIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiBmYWxzZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHByaXYuY3VycmVudFJlbW90ZURlc2NyaXB0aW9uO1x0fX0pO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3BlbmRpbmdSZW1vdGVEZXNjcmlwdGlvbidcdCwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IGZhbHNlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gcHJpdi5wZW5kaW5nUmVtb3RlRGVzY3JpcHRpb247XHR9fSk7XG5cblx0XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnc2lnbmFsaW5nU3RhdGUnXHRcdCwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IGZhbHNlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gc2lnbmFsaW5nU3RhdGU7XHRcdH19KTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdpY2VHYXRoZXJpbmdTdGF0ZSdcdFx0LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogZmFsc2UsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBpY2VHYXRoZXJpbmdTdGF0ZTtcdFx0fX0pO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2ljZUNvbm5lY3Rpb25TdGF0ZSdcdCwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IGZhbHNlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gaWNlQ29ubmVjdGlvblN0YXRlO1x0XHR9fSk7XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnY29ubmVjdGlvblN0YXRlJ1x0XHQsIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiBmYWxzZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIGNvbm5lY3Rpb25TdGF0ZTtcdFx0fX0pO1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdjYW5Ucmlja2xlSWNlQ2FuZGlkYXRlcydcdCwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IGZhbHNlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gY2FuVHJpY2tsZUljZUNhbmRpZGF0ZXM7XHR9fSk7XG5cdFxuXHRmdW5jdGlvbiBjcmVhdGVFdmVudChuYW1lKSB7XG5cdFx0dmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudChcIkV2ZW50XCIpO1xuXHRcdGUuaW5pdEV2ZW50KG5hbWUsIGZhbHNlLCBmYWxzZSk7XG5cdFx0cmV0dXJuIGU7XG5cdH1cblx0ZnVuY3Rpb24gZmlyZShuYW1lKSB7XG5cdFx0c2VsZi5kaXNwYXRjaEV2ZW50KGNyZWF0ZUV2ZW50KG5hbWUpKTtcblx0fVxuXHRcblx0Ly8gQ3JlYXRlIG5ldyBuYXRpdmUgcGNcblx0cHJpdi5wYyA9IFdlYlJUQ1Byb3h5LmNyZWF0ZVBlZXJDb25uZWN0aW9uKGNvbmZpZ3VyYXRpb24pO1xuXHRcblx0Ly9FdmVudCBoYW5kbGVyc1xuXHRwcml2LnBjLm9ubmVnb3RpYXRpb25uZWVkZWQgPSBmdW5jdGlvbigpIHtcblx0XHRmaXJlKFwibmVnb3RpYXRpb25uZWVkZWRcIik7XG5cdH07XG5cdHByaXYucGMub25pY2VjYW5kaWRhdGUgPSBmdW5jdGlvbihjYW5kaWRhdGUsc2RwTWlkLHNkcE1MaW5lSW5kZXgsZm91bmRhdGlvbixjb21wb25lbnQscHJpb3JpdHksaXAscHJvdG9jb2wscG9ydCx0eXBlLHRjcFR5cGUscmVsYXRlZEFkZHJlc3MscmVsYXRlZFBvcnQsdXNlcm5hbWVGcmFnbWVudCx1cmwpIHtcblx0XHR2YXIgZSA9IGNyZWF0ZUV2ZW50KFwiaWNlY2FuZGlkYXRlXCIpO1xuXHRcdGlmIChjYW5kaWRhdGUpXG5cdFx0XHRlLmNhbmRpZGF0ZSA9IG5ldyBSVENJY2VDYW5kaWRhdGUoY2FuZGlkYXRlLHNkcE1pZCxzZHBNTGluZUluZGV4LGZvdW5kYXRpb24sY29tcG9uZW50LHByaW9yaXR5LGlwLHByb3RvY29sLHBvcnQsdHlwZSx0Y3BUeXBlLHJlbGF0ZWRBZGRyZXNzLHJlbGF0ZWRQb3J0LHVzZXJuYW1lRnJhZ21lbnQpO1xuXHRcdGVsc2Vcblx0XHRcdGUuY2FuZGlkYXRlID0gbnVsbDtcblx0XHRlLnVybCA9IHVybDtcblx0XHRzZWxmLmRpc3BhdGNoRXZlbnQoZSk7XG5cdH07XG5cdHByaXYucGMub25pY2VjYW5kaWRhdGVlcnJvciA9IGZ1bmN0aW9uKCkge1xuXHRcdGZpcmUoXCJpY2VjYW5kaWRhdGVlcnJvclwiKTtcblx0fTtcblx0cHJpdi5wYy5vbnNpZ25hbGluZ3N0YXRlY2hhbmdlID0gZnVuY3Rpb24oc3RhdGUpIHtcblx0XHRzaWduYWxpbmdTdGF0ZSA9IHN0YXRlO1xuXHRcdGZpcmUoXCJzaWduYWxpbmdzdGF0ZWNoYW5nZVwiKTtcblx0XHRpZiAoXCJjbG9zZWRcIj09PXN0YXRlKVxuXHRcdHtcblx0XHRcdHByaXYuaXNDbG9zZWQgPSB0cnVlO1xuXHRcdFx0ZGVsZXRlKHByaXYucGMpO1xuXHRcdH1cblx0fTtcdFxuXHRwcml2LnBjLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlID0gZnVuY3Rpb24oc3RhdGUpIHtcblx0XHRpY2VDb25uZWN0aW9uU3RhdGUgPSBzdGF0ZTtcblx0XHRmaXJlKFwiaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIpO1xuXHR9O1x0XG5cdHByaXYucGMub25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKHN0YXRlKSB7XG5cdFx0aWNlR2F0aGVyaW5nU3RhdGUgPSBzdGF0ZTtcblx0XHRmaXJlKFwiaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2VcIik7XG5cdH07XHRcblx0cHJpdi5wYy5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKHN0YXRlKSB7XG5cdFx0Y29ubmVjdGlvblN0YXRlID0gc3RhdGU7XG5cdFx0ZmlyZShcImNvbm5lY3Rpb25TdGF0ZVwiKTtcblx0fTtcdFxuXHRwcml2LnBjLm9uYWRkc3RyZWFtID0gZnVuY3Rpb24gKGxhYmVsKSB7XG5cdFx0Ly9DcmVhdGUgbmV3IHN0cmVhbVxuXHRcdHZhciBzdHJlYW0gPSBuZXcgTWVkaWFTdHJlYW0obGFiZWwpO1xuXHRcdFxuXHRcdC8vR2V0IHJlbW90ZSBzdHJlYW0gdHJhY2tzXG5cdFx0cHJpdi5wYy5nZXRSZW1vdGVTdHJlYW1UcmFja3MobGFiZWwsZnVuY3Rpb24oKXtcblx0XHRcdC8vUGFyc2UgYXJndW1lbnRzXG5cdFx0XHR2YXIgdHJhY2tzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO1xuXG5cdFx0XHQvL0ZvciBlYWNoIHRyYWNrXG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaTx0cmFja3MubGVuZ3RoOyArK2kpXG5cdFx0XHRcdC8vQ3JlYXRlIGEgd3JhcHBlclxuXHRcdFx0XHRzdHJlYW0uYWRkVHJhY2sobmV3IE1lZGlhU3RyZWFtVHJhY2sodHJhY2tzW2ldKSk7XG5cblx0XHRcdC8vR2V0IGFsbCB0cmFja3Ncblx0XHRcdHZhciBtZWRpYVN0cmVhbVRyYWNrcyA9IHN0cmVhbS5nZXRUcmFja3MoKTtcdFxuXG5cdFx0XHQvL0ZvciBlYWNoIHRyYWNrIGluIHN0cmVhbVxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGk8bWVkaWFTdHJlYW1UcmFja3MubGVuZ3RoOyArK2kgKVxuXHRcdFx0e1xuXHRcdFx0XHR2YXIgZSA9IGNyZWF0ZUV2ZW50KFwidHJhY2tcIik7XG5cdFx0XHRcdGUudHJhY2sgPSBtZWRpYVN0cmVhbVRyYWNrc1tpXTtcblx0XHRcdFx0ZS5yZWNlaXZlciA9ICB7dHJhY2s6IG1lZGlhU3RyZWFtVHJhY2tzW2ldfTtcblx0XHRcdFx0ZS50cmFuc2NlaXZlciA9IHtyZWNlaXZlcjogZS5yZWNlaXZlcn07XG5cdFx0XHRcdGUuc3RyZWFtcyA9IFtzdHJlYW1dO1xuXHRcdFx0XHRzZWxmLmRpc3BhdGNoRXZlbnQoZSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH07XG5cdFxuXHRwcml2LnBjLm9ucmVtb3Zlc3RyZWFtID0gZnVuY3Rpb24gKGxhYmVsKSB7XG5cdFx0Ly9EZWxldGUgZnJvbSByZW1vdGUgc3RyZWFtIGxpc3Rcblx0XHRkZWxldGUocHJpdi5yZW1vdGVzW2xhYmVsXSk7XG5cdH07XG59O1xuXHRcbi8vSW5oZXJpdCBmcm9tIEV2ZW50IFRhcmdldFxuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFdmVudFRhcmdldC5wcm90b3R5cGUsIHtcblx0Y29uc3RydWN0b3I6IHsgXG5cdFx0dmFsdWVcdFx0OiBSVENQZWVyQ29ubmVjdGlvbiwgXG5cdFx0Y29uZmlndXJhYmxlXHQ6IHRydWUsXG5cdFx0d3JpdGFibGVcdDogdHJ1ZSBcblx0fVxufSk7XG4gXG4vLyBEZWZpbmUgRXZlbnQgSGFuZGxlcnNcbmRlZmluZUV2ZW50QXR0cmlidXRlKFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSwgXCJuZWdvdGlhdGlvbm5lZWRlZFwiKTtcbmRlZmluZUV2ZW50QXR0cmlidXRlKFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSwgXCJpY2VjYW5kaWRhdGVcIik7XG5kZWZpbmVFdmVudEF0dHJpYnV0ZShSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsIFwiaWNlY2FuZGlkYXRlZXJyb3JcIik7XG5kZWZpbmVFdmVudEF0dHJpYnV0ZShSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsIFwic2lnbmFsaW5nc3RhdGVjaGFuZ2VcIik7XG5kZWZpbmVFdmVudEF0dHJpYnV0ZShSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsIFwiaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlXCIpO1xuZGVmaW5lRXZlbnRBdHRyaWJ1dGUoUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLCBcImljZWdhdGhlcmluZ3N0YXRlY2hhbmdlXCIpO1xuZGVmaW5lRXZlbnRBdHRyaWJ1dGUoUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLCBcImNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiKTtcbmRlZmluZUV2ZW50QXR0cmlidXRlKFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSwgXCJhZGR0cmFja1wiKTtcblxuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldENvbmZpZ3VyYXRpb24gPSBmdW5jdGlvbigpXG57XG5cdHJldHVybiB0aGlzLnByaXYuY29uZmlndXJhdGlvbjtcbn07XG5cblJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXREZWZhdWx0SWNlU2VydmVycyA9IGZ1bmN0aW9uKClcbntcblx0cmV0dXJuIFtdO1xufTtcblxuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZU9mZmVyID0gZnVuY3Rpb24ob3B0aW9ucykgXG57XG5cdHZhciBwcml2ID0gdGhpcy5wcml2O1xuXHRcblx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdGlmICghcHJpdi5wYyB8fCBwcml2LmlzQ2xvc2VkKVxuXHRcdFx0cmV0dXJuIFRocm93SW52YWxpZFN0YXRlRXJyb3IoKTtcblx0XHRwcml2LnBjLmNyZWF0ZU9mZmVyKFxuXHRcdFx0ZnVuY3Rpb24odHlwZSxzZHApe1xuXHRcdFx0XHRwcml2Lmxhc3RPZmZlciA9IHNkcDtcblx0XHRcdFx0cmVzb2x2ZSh7XG5cdFx0XHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdFx0XHRzZHAgOiBzZHBcblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0cmVqZWN0LFxuXHRcdFx0b3B0aW9uc1xuXHRcdCk7XG5cdH0pO1xufTtcblxuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZUFuc3dlciA9IGZ1bmN0aW9uKG9wdGlvbnMpIFxue1xuXHR2YXIgcHJpdiA9IHRoaXMucHJpdjtcblx0XG5cdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0XHRpZiAoIXByaXYucGMgfHwgcHJpdi5pc0Nsb3NlZClcblx0XHRcdHJldHVybiBUaHJvd0ludmFsaWRTdGF0ZUVycm9yKCk7XG5cdFx0cHJpdi5wYy5jcmVhdGVBbnN3ZXIoXG5cdFx0XHRmdW5jdGlvbih0eXBlLHNkcCl7XG5cdFx0XHRcdHByaXYubGFzdEFuc3dlciA9IHNkcDtcblx0XHRcdFx0cmVzb2x2ZSh7XG5cdFx0XHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdFx0XHRzZHAgOiBzZHBcblx0XHRcdFx0fSk7XG5cdFx0XHR9LFxuXHRcdFx0cmVqZWN0LFxuXHRcdFx0b3B0aW9uc1xuXHRcdCk7XG5cdH0pO1xufTtcblxuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldExvY2FsRGVzY3JpcHRpb24gPSBmdW5jdGlvbihkZXNjcmlwdGlvbilcbntcblx0dmFyIHByaXYgPSB0aGlzLnByaXY7XG5cdFxuXHQvL0lmIGRlc2NyaXB0aW9uLnNkcCBpcyB0aGUgZW1wdHkgc3RyaW5nIGFuZCBkZXNjcmlwdGlvbi50eXBlIGlzIFwiYW5zd2VyXCIgb3IgXCJwcmFuc3dlclwiLCBzZXQgZGVzY3JpcHRpb24uc2RwIHRvIGxhc3RBbnN3ZXIuXG5cdGlmICghZGVzY3JpcHRpb24uc2RwICYmICAoXCJhbnN3ZXJcIj09PSBkZXNjcmlwdGlvbi50eXBlIHx8IFwicHJhbnNlclwiPT09ZGVzY3JpcHRpb24udHlwZSkpXG5cdFx0ZGVzY3JpcHRpb24uc2RwID0gcHJpdi5sYXN0QW5zd2VyO1xuXHRcblx0Ly9JZiBkZXNjcmlwdGlvbi5zZHAgaXMgdGhlIGVtcHR5IHN0cmluZyBhbmQgZGVzY3JpcHRpb24udHlwZSBpcyBcIm9mZmVyXCIsIHNldCBkZXNjcmlwdGlvbi5zZHAgdG8gbGFzdE9mZmVyLlxuXHRpZiAoIWRlc2NyaXB0aW9uLnNkcCAmJiBcIm9mZmVyXCI9PT0gZGVzY3JpcHRpb24udHlwZSlcblx0XHRkZXNjcmlwdGlvbi5zZHAgPSBwcml2Lmxhc3RPZmZlcjtcblx0XG5cdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0XHRpZiAoIXByaXYucGMgfHwgcHJpdi5pc0Nsb3NlZClcblx0XHRcdHJldHVybiBUaHJvd0ludmFsaWRTdGF0ZUVycm9yKCk7XG5cdFx0cHJpdi5wYy5zZXRMb2NhbERlc2NyaXB0aW9uKGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly9JZiBkZXNjcmlwdGlvbiBpcyBhcHBsaWVkIHN1Y2Nlc3NmdWxseTpcblx0XHRcdHN3aXRjaChkZXNjcmlwdGlvbi50eXBlKVxuXHRcdFx0e1xuXHRcdFx0XHRjYXNlIFwib2ZmZXJcIjpcblx0XHRcdFx0XHQvL0lmIGRlc2NyaXB0aW9uIGlzIG9mIHR5cGUgXCJvZmZlclwiLCBzZXQgY29ubmVjdGlvbi5wZW5kaW5nTG9jYWxEZXNjcmlwdGlvbiB0byBkZXNjcmlwdGlvbiBhbmQgc2lnbmFsaW5nIHN0YXRlIHRvIFwiaGF2ZS1sb2NhbC1vZmZlclwiLlxuXHRcdFx0XHRcdHByaXYucGVuZGluZ0xvY2FsRGVzY3JpcHRpb25cdD0gZGVzY3JpcHRpb247XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgXCJhbnN3ZXJcIjpcblx0XHRcdFx0XHQvL0lmIGRlc2NyaXB0aW9uIGlzIG9mIHR5cGUgXCJhbnN3ZXJcIiwgdGhlbiB0aGlzIGNvbXBsZXRlcyBhbiBvZmZlciBhbnN3ZXIgbmVnb3RpYXRpb24uIFxuXHRcdFx0XHRcdC8vU2V0IGNvbm5lY3Rpb24ncyBjdXJyZW50TG9jYWxEZXNjcmlwdGlvbiB0byBkZXNjcmlwdGlvbiBhbmQgY3VycmVudFJlbW90ZURlc2NyaXB0aW9uIHRvIHRoZSB2YWx1ZSBvZiBwZW5kaW5nUmVtb3RlRGVzY3JpcHRpb24gLiBcblx0XHRcdFx0XHQvL1NldCBib3RoIHBlbmRpbmdSZW1vdGVEZXNjcmlwdGlvbiBhbmQgcGVuZGluZ0xvY2FsRGVzY3JpcHRpb24gdG8gbnVsbC4gRmluYWxseSBzZXQgY29ubmVjdGlvbidzIHNpZ25hbGluZyBzdGF0ZSB0byBcInN0YWJsZVwiXG5cdFx0XHRcdFx0cHJpdi5jdXJyZW50TG9jYWxEZXNjcmlwdGlvblx0PSBkZXNjcmlwdGlvbjtcblx0XHRcdFx0XHRwcml2LmN1cnJlbnRSZW1vdGVEZXNjcmlwdGlvblx0PSBwcml2LnBlbmRpbmdSZW1vdGVEZXNjcmlwdGlvbjtcblx0XHRcdFx0XHRwcml2LnBlbmRpbmdMb2NhbERlc2NyaXB0aW9uXHQ9IG51bGw7XG5cdFx0XHRcdFx0cHJpdi5wZW5kaW5nUmVtb3RlRGVzY3JpcHRpb25cdD0gbnVsbDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcInJvbGxiYWNrXCI6XG5cdFx0XHRcdFx0Ly9JZiBkZXNjcmlwdGlvbiBpcyBvZiB0eXBlIFwicm9sbGJhY2tcIiwgdGhlbiB0aGlzIGlzIGEgcm9sbGJhY2suIFNldCBjb25uZWN0aW9uLnBlbmRpbmdMb2NhbERlc2NyaXB0aW9uIHRvIG51bGwgYW5kIHNpZ25hbGluZyBzdGF0ZSB0byBcInN0YWJsZVwiLlxuXHRcdFx0XHRcdHByaXYucGVuZGluZ0xvY2FsRGVzY3JpcHRpb25cdD0gbnVsbDtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBcInByYW5zd2VyXCI6XG5cdFx0XHRcdFx0Ly9JZiBkZXNjcmlwdGlvbiBpcyBvZiB0eXBlIFwicHJhbnN3ZXJcIiwgdGhlbiBzZXQgY29ubmVjdGlvbi5wZW5kaW5nTG9jYWxEZXNjcmlwdGlvbiB0byBkZXNjcmlwdGlvbiBhbmQgc2lnbmFsaW5nIHN0YXRlIHRvIFwiaGF2ZS1sb2NhbC1wcmFuc3dlclwiLlxuXHRcdFx0XHRcdHByaXYucGVuZGluZ0xvY2FsRGVzY3JpcHRpb25cdD0gZGVzY3JpcHRpb247XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHQvL1Jlc29sdmUgcHJvbWlvc2Vcblx0XHRcdHJlc29sdmUoKTtcblx0XHR9LHJlamVjdCxkZXNjcmlwdGlvbik7XG5cdH0pO1xufTtcblxuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uID0gZnVuY3Rpb24oZGVzY3JpcHRpb24pXG57XG5cdHZhciBwcml2ID0gdGhpcy5wcml2O1xuXHRcblx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdGlmICghcHJpdi5wYyB8fCBwcml2LmlzQ2xvc2VkKVxuXHRcdFx0cmV0dXJuIFRocm93SW52YWxpZFN0YXRlRXJyb3IoKTtcblx0XHRwcml2LnBjLnNldFJlbW90ZURlc2NyaXB0aW9uKGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly9JZiBkZXNjcmlwdGlvbiBpcyBhcHBsaWVkIHN1Y2Nlc3NmdWxseTpcblx0XHRcdHN3aXRjaChkZXNjcmlwdGlvbi50eXBlKVxuXHRcdFx0e1xuXHRcdFx0XHRjYXNlIFwib2ZmZXJcIjpcblx0XHRcdFx0XHQvL0lmIGRlc2NyaXB0aW9uIGlzIG9mIHR5cGUgXCJvZmZlclwiLCBzZXQgY29ubmVjdGlvbi5wZW5kaW5nUmVtb3RlRGVzY3JpcHRpb24gYXR0cmlidXRlIHRvIGRlc2NyaXB0aW9uIGFuZCBzaWduYWxpbmcgc3RhdGUgdG8gXCJoYXZlLXJlbW90ZS1vZmZlclwiLlxuXHRcdFx0XHRcdHByaXYucGVuZGluZ1JlbW90ZURlc2NyaXB0aW9uXHQ9IGRlc2NyaXB0aW9uO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwiYW5zd2VyXCI6XG5cdFx0XHRcdFx0Ly9JZiBkZXNjcmlwdGlvbiBpcyBvZiB0eXBlIFwiYW5zd2VyXCIsIHRoZW4gdGhpcyBjb21wbGV0ZXMgYW4gb2ZmZXIgYW5zd2VyIG5lZ290aWF0aW9uLiBcblx0XHRcdFx0XHQvL1NldCBjb25uZWN0aW9uJ3MgY3VycmVudFJlbW90ZURlc2NyaXB0aW9uIHRvIGRlc2NyaXB0aW9uIGFuZCBjdXJyZW50TG9jYWxEZXNjcmlwdGlvbiB0byB0aGUgdmFsdWUgb2YgcGVuZGluZ0xvY2FsRGVzY3JpcHRpb24gLiBcblx0XHRcdFx0XHQvL1NldCBib3RoIHBlbmRpbmdSZW1vdGVEZXNjcmlwdGlvbiBhbmQgcGVuZGluZ0xvY2FsRGVzY3JpcHRpb24gdG8gbnVsbC4gRmluYWxseSBzZXQgY29ubmVjdGlvbidzIHNpZ25hbGluZyBzdGF0ZSB0byBcInN0YWJsZVwiXG5cdFx0XHRcdFx0cHJpdi5jdXJyZW50UmVtb3RlRGVzY3JpcHRpb25cdD0gZGVzY3JpcHRpb247XG5cdFx0XHRcdFx0cHJpdi5jdXJyZW50TG9jYWxEZXNjcmlwdGlvblx0PSBwcml2LnBlbmRpbmdMb2NhbERlc2NyaXB0aW9uO1xuXHRcdFx0XHRcdHByaXYucGVuZGluZ0xvY2FsRGVzY3JpcHRpb25cdD0gbnVsbDtcblx0XHRcdFx0XHRwcml2LnBlbmRpbmdSZW1vdGVEZXNjcmlwdGlvblx0PSBudWxsO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFwicm9sbGJhY2tcIjpcblx0XHRcdFx0XHQvL0lmIGRlc2NyaXB0aW9uIGlzIG9mIHR5cGUgXCJyb2xsYmFja1wiLCB0aGVuIHRoaXMgaXMgYSByb2xsYmFjay4gU2V0IGNvbm5lY3Rpb24ucGVuZGluZ1JlbW90ZURlc2NyaXB0aW9uIHRvIG51bGwgYW5kIHNpZ25hbGluZyBzdGF0ZSB0byBcInN0YWJsZVwiLlxuXHRcdFx0XHRcdHByaXYucGVuZGluZ1JlbW90ZURlc2NyaXB0aW9uXHQ9IG51bGw7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgXCJwcmFuc3dlclwiOlxuXHRcdFx0XHRcdC8vSWYgZGVzY3JpcHRpb24gaXMgb2YgdHlwZSBcInByYW5zd2VyXCIsIHRoZW4gc2V0IGNvbm5lY3Rpb24ucGVuZGluZ1JlbW90ZURlc2NyaXB0aW9uIHRvIGRlc2NyaXB0aW9uIGFuZCBzaWduYWxpbmcgc3RhdGUgdG8gXCJoYXZlLXJlbW90ZS1wcmFuc3dlclwiLlxuXHRcdFx0XHRcdHByaXYucGVuZGluZ1JlbW90ZURlc2NyaXB0aW9uXHQ9IGRlc2NyaXB0aW9uO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0Ly9SZXNvbHZlIHByb21pb3NlXG5cdFx0XHRyZXNvbHZlKCk7XG5cdFx0fSxyZWplY3QsZGVzY3JpcHRpb24pO1xuXHR9KTtcbn07XG5cblJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRJY2VDYW5kaWRhdGUgPSBmdW5jdGlvbihjYW5kaWRhdGUpIFxue1xuXHR2YXIgcHJpdiA9IHRoaXMucHJpdjtcblx0XG5cdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0XHRpZiAoIXByaXYucGMgfHwgcHJpdi5pc0Nsb3NlZClcblx0XHRcdHJldHVybiBUaHJvd0ludmFsaWRTdGF0ZUVycm9yKCk7XG5cdFx0cHJpdi5wYy5hZGRJY2VDYW5kaWRhdGUoZnVuY3Rpb24oY3VycmVudCxwZW5kaW5nKSB7XG5cdFx0XHQvL1VwZGF0ZSBjdXJyZW50IHJlbW90ZSBkZXNjcmlwdGlvbiBzZHBcblx0XHRcdGlmIChwcml2LmN1cnJlbnRSZW1vdGVEZXNjcmlwdGlvbnQpXG5cdFx0XHR7XG5cdFx0XHRcdGlmIChjdXJyZW50Lmxlbmd0aClcblx0XHRcdFx0XHRwcml2LmN1cnJlbnRSZW1vdGVEZXNjcmlwdGlvbnQuc2RwID0gY3VycmVudDtcblx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdHByaXYuY3VycmVudFJlbW90ZURlc2NyaXB0aW9udC5zZHAgPSBudWxsO1xuXHRcdFx0fVxuXHRcdFx0Ly9VcGRhdGUgcGVuZGluZyByZW1vdGUgZGVzY3JpcHRpb24gc2RwXG5cdFx0XHRpZiAocHJpdi5wZW5kaW5nUmVtb3RlRGVzY3JpcHRpb24pXG5cdFx0XHR7XG5cdFx0XHRcdGlmIChwZW5kaW5nLmxlbmd0aClcblx0XHRcdFx0XHRwcml2LnBlbmRpbmdSZW1vdGVEZXNjcmlwdGlvbi5zZHAgPSBwZW5kaW5nO1xuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0cHJpdi5wZW5kaW5nUmVtb3RlRGVzY3JpcHRpb24uc2RwID0gbnVsbDtcblx0XHRcdH1cblx0XHRcdC8vUmVzb2x2ZSBwcm9taXNlXG5cdFx0XHRyZXNvbHZlKCk7XG5cdFx0fSxyZWplY3QsY2FuZGlkYXRlKTtcblx0fSk7XG59O1xuXG5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpXG57XG5cblx0dmFyIHByaXYgPSB0aGlzLnByaXY7XG5cdGlmICghcHJpdi5wYyB8fCBwcml2LmlzQ2xvc2VkKVxuXHRcdHJldHVybiBUaHJvd0ludmFsaWRTdGF0ZUVycm9yKCk7XG5cdC8vQ2xvc2UgaXRcblx0cHJpdi5wYy5jbG9zZSgpO1xufTtcbi8qXG5wYXJ0aWFsIGludGVyZmFjZSBSVENQZWVyQ29ubmVjdGlvbiB7XG4gICAgc2VxdWVuY2U8UlRDUnRwU2VuZGVyPiAgICAgIGdldFNlbmRlcnMoKTtcbiAgICBzZXF1ZW5jZTxSVENSdHBSZWNlaXZlcj4gICAgZ2V0UmVjZWl2ZXJzKCk7XG4gICAgc2VxdWVuY2U8UlRDUnRwVHJhbnNjZWl2ZXI+IGdldFRyYW5zY2VpdmVycygpO1xuICAgIFJUQ1J0cFNlbmRlciAgICAgICAgICAgICAgICBhZGRUcmFjayhNZWRpYVN0cmVhbVRyYWNrIHRyYWNrLCBNZWRpYVN0cmVhbS4uLiBzdHJlYW1zKTtcbiAgICB2b2lkICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlVHJhY2soUlRDUnRwU2VuZGVyIHNlbmRlcik7XG4gICAgUlRDUnRwVHJhbnNjZWl2ZXIgICAgICAgICAgIGFkZFRyYW5zY2VpdmVyKChNZWRpYVN0cmVhbVRyYWNrIG9yIERPTVN0cmluZykgdHJhY2tPcktpbmQsIG9wdGlvbmFsIFJUQ1J0cFRyYW5zY2VpdmVySW5pdCBpbml0KTtcbiAgICBhdHRyaWJ1dGUgRXZlbnRIYW5kbGVyIG9udHJhY2s7XG59O1xuKi9cblJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjayA9IGZ1bmN0aW9uKClcbntcblx0dmFyIHByaXYgPSB0aGlzLnByaXY7XG5cdFxuXHRpZiAoIXByaXYucGMgfHwgcHJpdi5pc0Nsb3NlZClcblx0XHRyZXR1cm4gVGhyb3dJbnZhbGlkU3RhdGVFcnJvcigpO1xuXHRcblx0Ly9QYXJzZSBhcmd1bWVudHNcblx0dmFyIHRyYWNrICAgPSBhcmd1bWVudHNbMF07XG5cdHZhciBzdHJlYW1zID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO1xuXHRcblx0Ly9FbnN1cmUgdGhhdCB3ZSBhcmUgYXR0YWNoaW5nIHRvIGF0IG1vc3QgMSwgYXMgaXQgaXMgbm90IHN1cHBvcnRlZCBpbiBsaWJ3ZWJydGNcblx0aWYgKHN0cmVhbXMubGVuZ3RoPjEpXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQWRkaW5nIHRyYWNrIHRvIG1vcmUgdGhhbiBvbmUgc3RyZWFtIGlzIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkXCIpO1xuXHRcblx0Ly9HZXQgc3RyZWFtIGxhYmVsLCBhcyBpdCBpcyB0aGUgb25seSBwYXJhbSBuZWVkZWQgYnkgbGlid2VicnRjXG5cdHZhciBsYWJlbCA9IHN0cmVhbXMubGVuZ3RoID8gc3RyZWFtc1swXS5pZCA6IFwiXCI7XG5cdFxuXHQvL0FkZCBuYXRpdmUgdHJhY2sgdG8gbmF0aXZlIG9iamVjdCBpdCBvbmx5IG5lZWRzIHRoZSBzdHJlYW0gbGFiZWwgbm90IHRoZSBzdHJlYW1cblx0dmFyIHNlbmRlciA9IHByaXYucGMuYWRkVHJhY2sodHJhY2sucHJpdi50cmFjaywgbGFiZWwpO1xuXHRcblx0Ly9DaGVjayByZXN1bHRcblx0aWYgKCFzZW5kZXIpXG5cdFx0cmV0dXJuIG51bGw7XG5cdFxuXHQvL0NyZWF0ZSBzZW5kZXJcblx0dmFyIHJ0cFNlbmRlciA9IG5ldyBSVENSdHBTZW5kZXIoc2VuZGVyKTtcblx0XG5cdC8vR2V0IG5hdGl2ZSBzZW5kZXIgaWRcblx0dmFyIHNlbmRlcklkID0gcnRwU2VuZGVyLnByaXYuaWQ7XG5cdFxuXHQvL0FkZCB0byBzZW5kZXJzXG5cdHByaXYuc2VuZGVyc1tzZW5kZXJJZF0gPSBydHBTZW5kZXI7XG5cdFxuXHRyZXR1cm4gcnRwU2VuZGVyO1xufTtcblxuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbSA9IGZ1bmN0aW9uKHN0cmVhbSlcbntcblx0dmFyIHRyYWNrcyA9IHN0cmVhbS5nZXRUcmFja3MoKTtcblx0Zm9yICh2YXIgaT0wOyBpPHRyYWNrcy5sZW5ndGg7ICsraSlcblx0XHR0aGlzLmFkZFRyYWNrKHRyYWNrc1tpXSxzdHJlYW0pO1xufTtcblxuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVRyYWNrID0gZnVuY3Rpb24ocnRwU2VuZGVyKVxue1xuXHR2YXIgcHJpdiA9IHRoaXMucHJpdjtcblx0XG5cdGlmICghcHJpdi5wYyB8fCBwcml2LmlzQ2xvc2VkKVxuXHRcdHJldHVybiBUaHJvd0ludmFsaWRTdGF0ZUVycm9yKCk7XG5cdFxuXHQvL0NoZWNrIGlmIHNlbmRlciBpcyBpbnZhbGlkXG5cdGlmICghcnRwU2VuZGVyIHx8ICFydHBTZW5kZXIucHJpdi5zZW5kZXIgfHwgIXJ0cFNlbmRlci5wcml2LnRyYWNrKVxuXHRcdHJldHVybiBUaHJvd0ludmFsaWRTdGF0ZUVycm9yKCk7XG5cdFxuXHQvL0dldCBuYXRpdmUgc2VuZGVyIGlkXG5cdHZhciBzZW5kZXJJZCA9IHJ0cFNlbmRlci5wcml2LmlkO1xuXHRcblx0Ly9DaGVjayBpZiBzZW5kZXJzIGlzIGZyb20gdGhpcyBwY1xuXHRpZiAoIXByaXYuc2VuZGVycy5oYXNPd25Qcm9wZXJ0eShzZW5kZXJJZCkpXG5cdFx0cmV0dXJuIFRocm93SW52YWxpZFN0YXRlRXJyb3IoKTtcblx0XHRcblx0Ly9QYXNzIHRoZSBuYXRlaXZlIG9iamVjdFxuXHRwcml2LnBjLnJlbW92ZVRyYWNrKHJ0cFNlbmRlci5wcml2LnNlbmRlcik7XG5cdFxuXHQvL1NldCBzZW5kZXIgdHJhY2sgdG8gbnVsbFxuXHRydHBTZW5kZXIucHJpdi50cmFjayA9IG51bGw7XG5cdFxuXHQvL1JlbW92ZSBmcm9tIHNlbmRlcnNcblx0ZGVsZXRlKHByaXYuc2VuZGVyc1tzZW5kZXJJZF0pO1xufTtcblxuZGVmaW5lRXZlbnRBdHRyaWJ1dGUoUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLCBcInRyYWNrXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJUQ1BlZXJDb25uZWN0aW9uOyJdfQ==
},{"./RTCIceCandidate.js":5,"./RTCRtpSender.js":7,"./WebRTCProxy.js":9,"event-target-shim/dist/event-target-shim.umd.js":10,"promise-polyfill":11}],7:[function(require,module,exports){
'use strict';

/*
[Exposed=Window]
interface RTCRtpSender {
    readonly attribute MediaStreamTrack? track;
    readonly attribute RTCDtlsTransport? transport;
    readonly attribute RTCDtlsTransport? rtcpTransport;
    // Feature at risk
    static RTCRtpCapabilities getCapabilities(DOMString kind);
    Promise<void>           setParameters(optional RTCRtpParameters parameters);
    RTCRtpParameters        getParameters();
    Promise<void>           replaceTrack(MediaStreamTrack? withTrack);
    Promise<RTCStatsReport> getStats();
};
*/
var RTCRtpSender = function RTCRtpSender(sender, track) {
	//Add to map
	this.priv = {
		sender: sender,
		track: track
	};

	Object.defineProperty(this, 'track', { enumerable: true, configurable: false, get: function get() {
			return priv.track;
		} });
	Object.defineProperty(this, 'transport', { enumerable: true, configurable: false, get: function get() {
			new Error("Not supported yet");
		} });
	Object.defineProperty(this, 'rtcpTransport', { enumerable: true, configurable: false, get: function get() {
			new Error("Not supported yet");
		} });

	return this;
};

RTCRtpSender.prototype.getCapabilities = function () {
	throw new Error("Not supported yet");
};

RTCRtpSender.prototype.setParameters = function () {
	throw new Error("Not supported yet");
};

RTCRtpSender.prototype.getParameters = function () {
	throw new Error("Not supported yet");
};

RTCRtpSender.prototype.replaceTrack = function () {
	throw new Error("Not supported yet");
};

RTCRtpSender.prototype.getStats = function () {
	throw new Error("Not supported yet");
};

module.exports = RTCRtpSender;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlJUQ1J0cFNlbmRlci5qcyJdLCJuYW1lcyI6WyJSVENSdHBTZW5kZXIiLCJzZW5kZXIiLCJ0cmFjayIsInByaXYiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJnZXQiLCJFcnJvciIsInByb3RvdHlwZSIsImdldENhcGFiaWxpdGllcyIsInNldFBhcmFtZXRlcnMiLCJnZXRQYXJhbWV0ZXJzIiwicmVwbGFjZVRyYWNrIiwiZ2V0U3RhdHMiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBOzs7Ozs7Ozs7Ozs7OztBQWNBLElBQUlBLGVBQWUsU0FBZkEsWUFBZSxDQUFTQyxNQUFULEVBQWdCQyxLQUFoQixFQUNuQjtBQUNDO0FBQ0EsTUFBS0MsSUFBTCxHQUFZO0FBQ1hGLFVBQVNBLE1BREU7QUFFWEMsU0FBU0E7QUFGRSxFQUFaOztBQUtBRSxRQUFPQyxjQUFQLENBQXNCLElBQXRCLEVBQTRCLE9BQTVCLEVBQXVDLEVBQUVDLFlBQVksSUFBZCxFQUFvQkMsY0FBYyxLQUFsQyxFQUF5Q0MsS0FBSyxlQUFVO0FBQUUsVUFBT0wsS0FBS0QsS0FBWjtBQUFxQixHQUEvRSxFQUF2QztBQUNBRSxRQUFPQyxjQUFQLENBQXNCLElBQXRCLEVBQTRCLFdBQTVCLEVBQTJDLEVBQUVDLFlBQVksSUFBZCxFQUFvQkMsY0FBYyxLQUFsQyxFQUF5Q0MsS0FBSyxlQUFVO0FBQUUsT0FBSUMsS0FBSixDQUFVLG1CQUFWO0FBQWlDLEdBQTNGLEVBQTNDO0FBQ0FMLFFBQU9DLGNBQVAsQ0FBc0IsSUFBdEIsRUFBNEIsZUFBNUIsRUFBOEMsRUFBRUMsWUFBWSxJQUFkLEVBQW9CQyxjQUFjLEtBQWxDLEVBQXlDQyxLQUFLLGVBQVU7QUFBRSxPQUFJQyxLQUFKLENBQVUsbUJBQVY7QUFBaUMsR0FBM0YsRUFBOUM7O0FBRUEsUUFBTyxJQUFQO0FBQ0EsQ0FiRDs7QUFlQVQsYUFBYVUsU0FBYixDQUF1QkMsZUFBdkIsR0FBeUMsWUFDekM7QUFDQyxPQUFNLElBQUlGLEtBQUosQ0FBVSxtQkFBVixDQUFOO0FBQ0EsQ0FIRDs7QUFLQVQsYUFBYVUsU0FBYixDQUF1QkUsYUFBdkIsR0FBdUMsWUFDdkM7QUFDQyxPQUFNLElBQUlILEtBQUosQ0FBVSxtQkFBVixDQUFOO0FBQ0EsQ0FIRDs7QUFLQVQsYUFBYVUsU0FBYixDQUF1QkcsYUFBdkIsR0FBdUMsWUFDdkM7QUFDQyxPQUFNLElBQUlKLEtBQUosQ0FBVSxtQkFBVixDQUFOO0FBQ0EsQ0FIRDs7QUFLQVQsYUFBYVUsU0FBYixDQUF1QkksWUFBdkIsR0FBc0MsWUFDdEM7QUFDQyxPQUFNLElBQUlMLEtBQUosQ0FBVSxtQkFBVixDQUFOO0FBQ0EsQ0FIRDs7QUFLQVQsYUFBYVUsU0FBYixDQUF1QkssUUFBdkIsR0FBa0MsWUFDbEM7QUFDQyxPQUFNLElBQUlOLEtBQUosQ0FBVSxtQkFBVixDQUFOO0FBQ0EsQ0FIRDs7QUFLQU8sT0FBT0MsT0FBUCxHQUFpQmpCLFlBQWpCIiwiZmlsZSI6IlJUQ1J0cFNlbmRlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG5bRXhwb3NlZD1XaW5kb3ddXG5pbnRlcmZhY2UgUlRDUnRwU2VuZGVyIHtcbiAgICByZWFkb25seSBhdHRyaWJ1dGUgTWVkaWFTdHJlYW1UcmFjaz8gdHJhY2s7XG4gICAgcmVhZG9ubHkgYXR0cmlidXRlIFJUQ0R0bHNUcmFuc3BvcnQ/IHRyYW5zcG9ydDtcbiAgICByZWFkb25seSBhdHRyaWJ1dGUgUlRDRHRsc1RyYW5zcG9ydD8gcnRjcFRyYW5zcG9ydDtcbiAgICAvLyBGZWF0dXJlIGF0IHJpc2tcbiAgICBzdGF0aWMgUlRDUnRwQ2FwYWJpbGl0aWVzIGdldENhcGFiaWxpdGllcyhET01TdHJpbmcga2luZCk7XG4gICAgUHJvbWlzZTx2b2lkPiAgICAgICAgICAgc2V0UGFyYW1ldGVycyhvcHRpb25hbCBSVENSdHBQYXJhbWV0ZXJzIHBhcmFtZXRlcnMpO1xuICAgIFJUQ1J0cFBhcmFtZXRlcnMgICAgICAgIGdldFBhcmFtZXRlcnMoKTtcbiAgICBQcm9taXNlPHZvaWQ+ICAgICAgICAgICByZXBsYWNlVHJhY2soTWVkaWFTdHJlYW1UcmFjaz8gd2l0aFRyYWNrKTtcbiAgICBQcm9taXNlPFJUQ1N0YXRzUmVwb3J0PiBnZXRTdGF0cygpO1xufTtcbiovXG52YXIgUlRDUnRwU2VuZGVyID0gZnVuY3Rpb24oc2VuZGVyLHRyYWNrKVxue1xuXHQvL0FkZCB0byBtYXBcblx0dGhpcy5wcml2ID0ge1xuXHRcdHNlbmRlciA6IHNlbmRlcixcblx0XHR0cmFjayAgOiB0cmFja1xuXHR9O1xuXHRcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICd0cmFjaydcdFx0LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogZmFsc2UsIGdldDogZnVuY3Rpb24oKXsgcmV0dXJuIHByaXYudHJhY2s7XHRcdH19KTtcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICd0cmFuc3BvcnQnXHRcdCwgeyBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IGZhbHNlLCBnZXQ6IGZ1bmN0aW9uKCl7IG5ldyBFcnJvcihcIk5vdCBzdXBwb3J0ZWQgeWV0XCIpO1x0fX0pO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3J0Y3BUcmFuc3BvcnQnXHQsIHsgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiBmYWxzZSwgZ2V0OiBmdW5jdGlvbigpeyBuZXcgRXJyb3IoXCJOb3Qgc3VwcG9ydGVkIHlldFwiKTtcdH19KTtcblx0XG5cdHJldHVybiB0aGlzO1xufTtcblxuUlRDUnRwU2VuZGVyLnByb3RvdHlwZS5nZXRDYXBhYmlsaXRpZXMgPSBmdW5jdGlvbigpIFxue1xuXHR0aHJvdyBuZXcgRXJyb3IoXCJOb3Qgc3VwcG9ydGVkIHlldFwiKTtcbn07XG5cblJUQ1J0cFNlbmRlci5wcm90b3R5cGUuc2V0UGFyYW1ldGVycyA9IGZ1bmN0aW9uKCkgXG57XG5cdHRocm93IG5ldyBFcnJvcihcIk5vdCBzdXBwb3J0ZWQgeWV0XCIpO1xufTtcblxuUlRDUnRwU2VuZGVyLnByb3RvdHlwZS5nZXRQYXJhbWV0ZXJzID0gZnVuY3Rpb24oKSBcbntcblx0dGhyb3cgbmV3IEVycm9yKFwiTm90IHN1cHBvcnRlZCB5ZXRcIik7XG59O1xuXG5SVENSdHBTZW5kZXIucHJvdG90eXBlLnJlcGxhY2VUcmFjayA9IGZ1bmN0aW9uKCkgXG57XG5cdHRocm93IG5ldyBFcnJvcihcIk5vdCBzdXBwb3J0ZWQgeWV0XCIpO1xufTtcblxuUlRDUnRwU2VuZGVyLnByb3RvdHlwZS5nZXRTdGF0cyA9IGZ1bmN0aW9uKCkgXG57XG5cdHRocm93IG5ldyBFcnJvcihcIk5vdCBzdXBwb3J0ZWQgeWV0XCIpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBSVENSdHBTZW5kZXI7Il19
},{}],8:[function(require,module,exports){
"use strict";

// This obvserver checks when a video element has been set a srcObj
var videoObserver = new MutationObserver(function (mutations) {
	for (var i = 0, numMutations = mutations.length; i < numMutations; i++) {
		var mutation = mutations[i];
		// HTML video element.
		if (mutation.target.videoRenderer) mutation.target.videoRenderer.mutate(mutation);
	}
});

var CLASSID = "CLSID:B8E874D9-72BA-4E54-B59B-3513081DF516";

function VideoRenderer(video) {
	var srcObject;
	var self = this;
	//Store video element
	this.video = video;

	//Create a new video renderer object
	var object = this.object = document.createElement("object");
	//Set csid
	this.object.classid = CLASSID;
	//Apped it hidden
	video.appendChild(this.object);

	// Add .src observer to the video element.
	videoObserver.observe(video, {
		// Set to true if additions and removals of the target node's child elements (including text
		// nodes) are to be observed.
		childList: false,
		// Set to true if mutations to target's attributes are to be observed.
		attributes: true,
		// Set to true if mutations to target's data are to be observed.
		characterData: false,
		// Set to true if mutations to not just target, but also target's descendants are to be observed.
		subtree: false,
		// Set to true if attributes is set to true and target's attribute value before the mutation
		// needs to be recorded.
		attributeOldValue: true,
		// Set to true if characterData is set to true and target's data before the mutation needs to be
		// recorded.
		characterDataOldValue: false
		// Set to an array of attribute local names (without namespace) if not all attribute mutations
		// need to be observed.
		//attributeFilter: [ 'srcObject']
	});
	// Define srcObject properties
	Object.defineProperty(video, 'srcObject', {
		enumerable: true,
		configurable: true,
		get: function get() {
			return srcObject;
		},
		set: function set(stream) {
			//We need to fire metadata event when we get first resize
			var needsmetadata = true;
			//Attach resize event
			object.onresize = function () {
				//Create event
				var event = document.createEvent("Event");
				//Init metadata or resize event
				event.initEvent(needsmetadata ? "loadedmetadata" : "resize", false, false);
				//Dispatch it
				video.dispatchEvent(event);
				//No more medatada event
				needsmetadata = false;
			};
			//Get stream track video stream
			var videoTracks = stream.getVideoTracks();
			//If found any
			if (videoTracks.length)
				//Set native video track on video renderer object
				object.setTrack(videoTracks[0].priv.track);
			//Store it
			srcObject = stream;
			//Show renderer
			self.show();
		}
	});

	// Override properties
	Object.defineProperty(video, 'videoWidth', { enumerable: true, configurable: true, get: function get() {
			return object.videoWidth;
		} });
	Object.defineProperty(video, 'videoHeight', { enumerable: true, configurable: true, get: function get() {
			return object.videoHeight;
		} });
	//TODO: clone attributes
}

VideoRenderer.prototype.mutate = function (mutation) {
	//Get mutation type
	//TODO: clone attributes
};

VideoRenderer.prototype.close = function () {
	//Hide video object
	this.hide();
	//Unobserver video element
	videoObserver.unobserve(this.video);
	//Remove srcObject property
	Object.defineProperty(this.video, 'srcObject', {});
	Object.defineProperty(this.video, 'videoWidth', {});
	Object.defineProperty(this.video, 'videoHeigth', {});
	//delete object, IE only method
	this.object.removeNode(false);
	delete this.object;
};

VideoRenderer.handle = function (video) {
	if (!video.videoRenderer) video.videoRenderer = new VideoRenderer(video);
};

VideoRenderer.unhandle = function (video) {
	if (video.videoRenderer) {
		video.videoRender.close();
		delete video.videoRenderer;
	}
};

VideoRenderer.prototype.show = function () {
	//Check object is not shown
	if (this.video !== this.object.parentElement)
		//Nothing
		return;
	//Swap them
	this.video.parentNode.replaceChild(this.object, this.video);
	this.object.appendChild(this.video);
};

VideoRenderer.prototype.hide = function () {
	//Check object is not shown
	if (this.object !== this.video.parentElement)
		//Nothing
		return;
	//Swap them
	this.object.parentNode.replaceChild(this.video, this.object);
	this.video.appendChild(this.object);
};

module.exports = VideoRenderer;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlZpZGVvUmVuZGVyZXIuanMiXSwibmFtZXMiOlsidmlkZW9PYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJtdXRhdGlvbnMiLCJpIiwibnVtTXV0YXRpb25zIiwibGVuZ3RoIiwibXV0YXRpb24iLCJ0YXJnZXQiLCJ2aWRlb1JlbmRlcmVyIiwibXV0YXRlIiwiQ0xBU1NJRCIsIlZpZGVvUmVuZGVyZXIiLCJ2aWRlbyIsInNyY09iamVjdCIsInNlbGYiLCJvYmplY3QiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc2lkIiwiYXBwZW5kQ2hpbGQiLCJvYnNlcnZlIiwiY2hpbGRMaXN0IiwiYXR0cmlidXRlcyIsImNoYXJhY3RlckRhdGEiLCJzdWJ0cmVlIiwiYXR0cmlidXRlT2xkVmFsdWUiLCJjaGFyYWN0ZXJEYXRhT2xkVmFsdWUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJnZXQiLCJzZXQiLCJzdHJlYW0iLCJuZWVkc21ldGFkYXRhIiwib25yZXNpemUiLCJldmVudCIsImNyZWF0ZUV2ZW50IiwiaW5pdEV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsInZpZGVvVHJhY2tzIiwiZ2V0VmlkZW9UcmFja3MiLCJzZXRUcmFjayIsInByaXYiLCJ0cmFjayIsInNob3ciLCJ2aWRlb1dpZHRoIiwidmlkZW9IZWlnaHQiLCJwcm90b3R5cGUiLCJjbG9zZSIsImhpZGUiLCJ1bm9ic2VydmUiLCJyZW1vdmVOb2RlIiwiaGFuZGxlIiwidW5oYW5kbGUiLCJ2aWRlb1JlbmRlciIsInBhcmVudEVsZW1lbnQiLCJwYXJlbnROb2RlIiwicmVwbGFjZUNoaWxkIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFDQTtBQUNBLElBQUlBLGdCQUFnQixJQUFJQyxnQkFBSixDQUFxQixVQUFVQyxTQUFWLEVBQXFCO0FBQzdELE1BQUssSUFBSUMsSUFBSSxDQUFSLEVBQVdDLGVBQWVGLFVBQVVHLE1BQXpDLEVBQWlERixJQUFJQyxZQUFyRCxFQUFtRUQsR0FBbkUsRUFDQTtBQUNDLE1BQUlHLFdBQVdKLFVBQVVDLENBQVYsQ0FBZjtBQUNBO0FBQ0EsTUFBSUcsU0FBU0MsTUFBVCxDQUFnQkMsYUFBcEIsRUFDQ0YsU0FBU0MsTUFBVCxDQUFnQkMsYUFBaEIsQ0FBOEJDLE1BQTlCLENBQXFDSCxRQUFyQztBQUNEO0FBQ0QsQ0FSbUIsQ0FBcEI7O0FBVUEsSUFBSUksVUFBUSw0Q0FBWjs7QUFHQSxTQUFTQyxhQUFULENBQXVCQyxLQUF2QixFQUNBO0FBQ0MsS0FBSUMsU0FBSjtBQUNBLEtBQUlDLE9BQU8sSUFBWDtBQUNBO0FBQ0EsTUFBS0YsS0FBTCxHQUFhQSxLQUFiOztBQUVBO0FBQ0EsS0FBSUcsU0FBUyxLQUFLQSxNQUFMLEdBQWNDLFNBQVNDLGFBQVQsQ0FBdUIsUUFBdkIsQ0FBM0I7QUFDQTtBQUNBLE1BQUtGLE1BQUwsQ0FBWUcsT0FBWixHQUFzQlIsT0FBdEI7QUFDQTtBQUNBRSxPQUFNTyxXQUFOLENBQWtCLEtBQUtKLE1BQXZCOztBQUVBO0FBQ0FmLGVBQWNvQixPQUFkLENBQXNCUixLQUF0QixFQUE2QjtBQUM1QjtBQUNBO0FBQ0FTLGFBQVcsS0FIaUI7QUFJNUI7QUFDQUMsY0FBWSxJQUxnQjtBQU01QjtBQUNBQyxpQkFBZSxLQVBhO0FBUTVCO0FBQ0FDLFdBQVMsS0FUbUI7QUFVNUI7QUFDQTtBQUNBQyxxQkFBbUIsSUFaUztBQWE1QjtBQUNBO0FBQ0FDLHlCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFsQjRCLEVBQTdCO0FBb0JBO0FBQ0FDLFFBQU9DLGNBQVAsQ0FBc0JoQixLQUF0QixFQUE2QixXQUE3QixFQUE0QztBQUMzQ2lCLGNBQWEsSUFEOEI7QUFFM0NDLGdCQUFlLElBRjRCO0FBRzNDQyxPQUFPLGVBQVc7QUFDakIsVUFBT2xCLFNBQVA7QUFDQSxHQUwwQztBQU0zQ21CLE9BQU8sYUFBU0MsTUFBVCxFQUFpQjtBQUN2QjtBQUNBLE9BQUlDLGdCQUFnQixJQUFwQjtBQUNBO0FBQ0FuQixVQUFPb0IsUUFBUCxHQUFrQixZQUNsQjtBQUNDO0FBQ0EsUUFBSUMsUUFBUXBCLFNBQVNxQixXQUFULENBQXFCLE9BQXJCLENBQVo7QUFDQTtBQUNBRCxVQUFNRSxTQUFOLENBQWdCSixnQkFBZ0IsZ0JBQWhCLEdBQW1DLFFBQW5ELEVBQTZELEtBQTdELEVBQW9FLEtBQXBFO0FBQ0E7QUFDQXRCLFVBQU0yQixhQUFOLENBQW9CSCxLQUFwQjtBQUNBO0FBQ0FGLG9CQUFnQixLQUFoQjtBQUNBLElBVkQ7QUFXQTtBQUNBLE9BQUlNLGNBQWNQLE9BQU9RLGNBQVAsRUFBbEI7QUFDQTtBQUNBLE9BQUlELFlBQVluQyxNQUFoQjtBQUNDO0FBQ0FVLFdBQU8yQixRQUFQLENBQWdCRixZQUFZLENBQVosRUFBZUcsSUFBZixDQUFvQkMsS0FBcEM7QUFDRDtBQUNBL0IsZUFBWW9CLE1BQVo7QUFDQTtBQUNBbkIsUUFBSytCLElBQUw7QUFDQTtBQS9CMEMsRUFBNUM7O0FBa0NBO0FBQ0FsQixRQUFPQyxjQUFQLENBQXNCaEIsS0FBdEIsRUFBNkIsWUFBN0IsRUFBNkMsRUFBRWlCLFlBQWEsSUFBZixFQUFxQkMsY0FBZSxJQUFwQyxFQUEwQ0MsS0FBTSxlQUFXO0FBQUUsVUFBT2hCLE9BQU8rQixVQUFkO0FBQTJCLEdBQXhGLEVBQTdDO0FBQ0FuQixRQUFPQyxjQUFQLENBQXNCaEIsS0FBdEIsRUFBNkIsYUFBN0IsRUFBNkMsRUFBRWlCLFlBQWEsSUFBZixFQUFxQkMsY0FBZSxJQUFwQyxFQUEwQ0MsS0FBTSxlQUFXO0FBQUUsVUFBT2hCLE9BQU9nQyxXQUFkO0FBQTRCLEdBQXpGLEVBQTdDO0FBQ0E7QUFDQTs7QUFFRHBDLGNBQWNxQyxTQUFkLENBQXdCdkMsTUFBeEIsR0FBaUMsVUFBU0gsUUFBVCxFQUNqQztBQUNDO0FBQ0E7QUFDQSxDQUpEOztBQU1BSyxjQUFjcUMsU0FBZCxDQUF3QkMsS0FBeEIsR0FBZ0MsWUFDaEM7QUFDQztBQUNBLE1BQUtDLElBQUw7QUFDQTtBQUNBbEQsZUFBY21ELFNBQWQsQ0FBd0IsS0FBS3ZDLEtBQTdCO0FBQ0E7QUFDQWUsUUFBT0MsY0FBUCxDQUFzQixLQUFLaEIsS0FBM0IsRUFBaUMsV0FBakMsRUFBNkMsRUFBN0M7QUFDQWUsUUFBT0MsY0FBUCxDQUFzQixLQUFLaEIsS0FBM0IsRUFBaUMsWUFBakMsRUFBOEMsRUFBOUM7QUFDQWUsUUFBT0MsY0FBUCxDQUFzQixLQUFLaEIsS0FBM0IsRUFBaUMsYUFBakMsRUFBK0MsRUFBL0M7QUFDQTtBQUNBLE1BQUtHLE1BQUwsQ0FBWXFDLFVBQVosQ0FBdUIsS0FBdkI7QUFDQSxRQUFPLEtBQUtyQyxNQUFaO0FBRUEsQ0FkRDs7QUFnQkFKLGNBQWMwQyxNQUFkLEdBQXVCLFVBQVN6QyxLQUFULEVBQ3ZCO0FBQ0MsS0FBSSxDQUFDQSxNQUFNSixhQUFYLEVBQ0NJLE1BQU1KLGFBQU4sR0FBc0IsSUFBSUcsYUFBSixDQUFrQkMsS0FBbEIsQ0FBdEI7QUFDRCxDQUpEOztBQU1BRCxjQUFjMkMsUUFBZCxHQUF5QixVQUFTMUMsS0FBVCxFQUN6QjtBQUNDLEtBQUlBLE1BQU1KLGFBQVYsRUFDQTtBQUNDSSxRQUFNMkMsV0FBTixDQUFrQk4sS0FBbEI7QUFDQSxTQUFPckMsTUFBTUosYUFBYjtBQUNBO0FBQ0QsQ0FQRDs7QUFTQUcsY0FBY3FDLFNBQWQsQ0FBd0JILElBQXhCLEdBQStCLFlBQy9CO0FBQ0M7QUFDQSxLQUFJLEtBQUtqQyxLQUFMLEtBQWEsS0FBS0csTUFBTCxDQUFZeUMsYUFBN0I7QUFDQztBQUNBO0FBQ0Q7QUFDQSxNQUFLNUMsS0FBTCxDQUFXNkMsVUFBWCxDQUFzQkMsWUFBdEIsQ0FBbUMsS0FBSzNDLE1BQXhDLEVBQStDLEtBQUtILEtBQXBEO0FBQ0EsTUFBS0csTUFBTCxDQUFZSSxXQUFaLENBQXdCLEtBQUtQLEtBQTdCO0FBQ0EsQ0FURDs7QUFXQUQsY0FBY3FDLFNBQWQsQ0FBd0JFLElBQXhCLEdBQStCLFlBQy9CO0FBQ0M7QUFDQSxLQUFJLEtBQUtuQyxNQUFMLEtBQWMsS0FBS0gsS0FBTCxDQUFXNEMsYUFBN0I7QUFDQztBQUNBO0FBQ0Q7QUFDQSxNQUFLekMsTUFBTCxDQUFZMEMsVUFBWixDQUF1QkMsWUFBdkIsQ0FBb0MsS0FBSzlDLEtBQXpDLEVBQStDLEtBQUtHLE1BQXBEO0FBQ0EsTUFBS0gsS0FBTCxDQUFXTyxXQUFYLENBQXVCLEtBQUtKLE1BQTVCO0FBQ0EsQ0FURDs7QUFXQTRDLE9BQU9DLE9BQVAsR0FBaUJqRCxhQUFqQiIsImZpbGUiOiJWaWRlb1JlbmRlcmVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG4vLyBUaGlzIG9idnNlcnZlciBjaGVja3Mgd2hlbiBhIHZpZGVvIGVsZW1lbnQgaGFzIGJlZW4gc2V0IGEgc3JjT2JqXG52YXIgdmlkZW9PYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChtdXRhdGlvbnMpIHtcblx0Zm9yICh2YXIgaSA9IDAsIG51bU11dGF0aW9ucyA9IG11dGF0aW9ucy5sZW5ndGg7IGkgPCBudW1NdXRhdGlvbnM7IGkrKykgXG5cdHtcblx0XHR2YXIgbXV0YXRpb24gPSBtdXRhdGlvbnNbaV07XG5cdFx0Ly8gSFRNTCB2aWRlbyBlbGVtZW50LlxuXHRcdGlmIChtdXRhdGlvbi50YXJnZXQudmlkZW9SZW5kZXJlcilcblx0XHRcdG11dGF0aW9uLnRhcmdldC52aWRlb1JlbmRlcmVyLm11dGF0ZShtdXRhdGlvbik7XG5cdH1cbn0pO1xuXG52YXIgQ0xBU1NJRD1cIkNMU0lEOkI4RTg3NEQ5LTcyQkEtNEU1NC1CNTlCLTM1MTMwODFERjUxNlwiO1xuXG5cdFxuZnVuY3Rpb24gVmlkZW9SZW5kZXJlcih2aWRlbykgXG57XG5cdHZhciBzcmNPYmplY3Q7XG5cdHZhciBzZWxmID0gdGhpcztcblx0Ly9TdG9yZSB2aWRlbyBlbGVtZW50XG5cdHRoaXMudmlkZW8gPSB2aWRlbztcblx0XG5cdC8vQ3JlYXRlIGEgbmV3IHZpZGVvIHJlbmRlcmVyIG9iamVjdFxuXHR2YXIgb2JqZWN0ID0gdGhpcy5vYmplY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib2JqZWN0XCIpO1xuXHQvL1NldCBjc2lkXG5cdHRoaXMub2JqZWN0LmNsYXNzaWQgPSBDTEFTU0lEO1xuXHQvL0FwcGVkIGl0IGhpZGRlblxuXHR2aWRlby5hcHBlbmRDaGlsZCh0aGlzLm9iamVjdCk7XG5cdFxuXHQvLyBBZGQgLnNyYyBvYnNlcnZlciB0byB0aGUgdmlkZW8gZWxlbWVudC5cblx0dmlkZW9PYnNlcnZlci5vYnNlcnZlKHZpZGVvLCB7XG5cdFx0Ly8gU2V0IHRvIHRydWUgaWYgYWRkaXRpb25zIGFuZCByZW1vdmFscyBvZiB0aGUgdGFyZ2V0IG5vZGUncyBjaGlsZCBlbGVtZW50cyAoaW5jbHVkaW5nIHRleHRcblx0XHQvLyBub2RlcykgYXJlIHRvIGJlIG9ic2VydmVkLlxuXHRcdGNoaWxkTGlzdDogZmFsc2UsXG5cdFx0Ly8gU2V0IHRvIHRydWUgaWYgbXV0YXRpb25zIHRvIHRhcmdldCdzIGF0dHJpYnV0ZXMgYXJlIHRvIGJlIG9ic2VydmVkLlxuXHRcdGF0dHJpYnV0ZXM6IHRydWUsXG5cdFx0Ly8gU2V0IHRvIHRydWUgaWYgbXV0YXRpb25zIHRvIHRhcmdldCdzIGRhdGEgYXJlIHRvIGJlIG9ic2VydmVkLlxuXHRcdGNoYXJhY3RlckRhdGE6IGZhbHNlLFxuXHRcdC8vIFNldCB0byB0cnVlIGlmIG11dGF0aW9ucyB0byBub3QganVzdCB0YXJnZXQsIGJ1dCBhbHNvIHRhcmdldCdzIGRlc2NlbmRhbnRzIGFyZSB0byBiZSBvYnNlcnZlZC5cblx0XHRzdWJ0cmVlOiBmYWxzZSxcblx0XHQvLyBTZXQgdG8gdHJ1ZSBpZiBhdHRyaWJ1dGVzIGlzIHNldCB0byB0cnVlIGFuZCB0YXJnZXQncyBhdHRyaWJ1dGUgdmFsdWUgYmVmb3JlIHRoZSBtdXRhdGlvblxuXHRcdC8vIG5lZWRzIHRvIGJlIHJlY29yZGVkLlxuXHRcdGF0dHJpYnV0ZU9sZFZhbHVlOiB0cnVlLFxuXHRcdC8vIFNldCB0byB0cnVlIGlmIGNoYXJhY3RlckRhdGEgaXMgc2V0IHRvIHRydWUgYW5kIHRhcmdldCdzIGRhdGEgYmVmb3JlIHRoZSBtdXRhdGlvbiBuZWVkcyB0byBiZVxuXHRcdC8vIHJlY29yZGVkLlxuXHRcdGNoYXJhY3RlckRhdGFPbGRWYWx1ZTogZmFsc2Vcblx0XHQvLyBTZXQgdG8gYW4gYXJyYXkgb2YgYXR0cmlidXRlIGxvY2FsIG5hbWVzICh3aXRob3V0IG5hbWVzcGFjZSkgaWYgbm90IGFsbCBhdHRyaWJ1dGUgbXV0YXRpb25zXG5cdFx0Ly8gbmVlZCB0byBiZSBvYnNlcnZlZC5cblx0XHQvL2F0dHJpYnV0ZUZpbHRlcjogWyAnc3JjT2JqZWN0J11cblx0fSk7XG5cdC8vIERlZmluZSBzcmNPYmplY3QgcHJvcGVydGllc1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkodmlkZW8sICdzcmNPYmplY3QnXHRcdCwgeyBcblx0XHRlbnVtZXJhYmxlXHQ6IHRydWUsIFxuXHRcdGNvbmZpZ3VyYWJsZVx0OiB0cnVlLFxuXHRcdGdldFx0XHQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHNyY09iamVjdDtcblx0XHR9LFxuXHRcdHNldFx0XHQ6IGZ1bmN0aW9uKHN0cmVhbSkge1xuXHRcdFx0Ly9XZSBuZWVkIHRvIGZpcmUgbWV0YWRhdGEgZXZlbnQgd2hlbiB3ZSBnZXQgZmlyc3QgcmVzaXplXG5cdFx0XHR2YXIgbmVlZHNtZXRhZGF0YSA9IHRydWU7XG5cdFx0XHQvL0F0dGFjaCByZXNpemUgZXZlbnRcblx0XHRcdG9iamVjdC5vbnJlc2l6ZSA9IGZ1bmN0aW9uKCkgXG5cdFx0XHR7XHRcblx0XHRcdFx0Ly9DcmVhdGUgZXZlbnRcblx0XHRcdFx0dmFyIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudFwiKTtcblx0XHRcdFx0Ly9Jbml0IG1ldGFkYXRhIG9yIHJlc2l6ZSBldmVudFxuXHRcdFx0XHRldmVudC5pbml0RXZlbnQobmVlZHNtZXRhZGF0YSA/IFwibG9hZGVkbWV0YWRhdGFcIiA6IFwicmVzaXplXCIsIGZhbHNlLCBmYWxzZSk7XG5cdFx0XHRcdC8vRGlzcGF0Y2ggaXRcblx0XHRcdFx0dmlkZW8uZGlzcGF0Y2hFdmVudChldmVudCk7XG5cdFx0XHRcdC8vTm8gbW9yZSBtZWRhdGFkYSBldmVudFxuXHRcdFx0XHRuZWVkc21ldGFkYXRhID0gZmFsc2U7XG5cdFx0XHR9O1xuXHRcdFx0Ly9HZXQgc3RyZWFtIHRyYWNrIHZpZGVvIHN0cmVhbVxuXHRcdFx0dmFyIHZpZGVvVHJhY2tzID0gc3RyZWFtLmdldFZpZGVvVHJhY2tzKCk7XG5cdFx0XHQvL0lmIGZvdW5kIGFueVxuXHRcdFx0aWYgKHZpZGVvVHJhY2tzLmxlbmd0aClcblx0XHRcdFx0Ly9TZXQgbmF0aXZlIHZpZGVvIHRyYWNrIG9uIHZpZGVvIHJlbmRlcmVyIG9iamVjdFxuXHRcdFx0XHRvYmplY3Quc2V0VHJhY2sodmlkZW9UcmFja3NbMF0ucHJpdi50cmFjayk7XG5cdFx0XHQvL1N0b3JlIGl0XG5cdFx0XHRzcmNPYmplY3QgPSBzdHJlYW07XG5cdFx0XHQvL1Nob3cgcmVuZGVyZXJcblx0XHRcdHNlbGYuc2hvdygpO1xuXHRcdH1cblx0fSk7XG5cblx0Ly8gT3ZlcnJpZGUgcHJvcGVydGllc1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkodmlkZW8sICd2aWRlb1dpZHRoJyAgLCB7IGVudW1lcmFibGUgOiB0cnVlLCBjb25maWd1cmFibGUgOiB0cnVlLCBnZXQgOiBmdW5jdGlvbigpIHsgcmV0dXJuIG9iamVjdC52aWRlb1dpZHRoOyB9fSApO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkodmlkZW8sICd2aWRlb0hlaWdodCcgLCB7IGVudW1lcmFibGUgOiB0cnVlLCBjb25maWd1cmFibGUgOiB0cnVlLCBnZXQgOiBmdW5jdGlvbigpIHsgcmV0dXJuIG9iamVjdC52aWRlb0hlaWdodDsgfX0gKTtcblx0Ly9UT0RPOiBjbG9uZSBhdHRyaWJ1dGVzXG59XG5cblZpZGVvUmVuZGVyZXIucHJvdG90eXBlLm11dGF0ZSA9IGZ1bmN0aW9uKG11dGF0aW9uKVxue1xuXHQvL0dldCBtdXRhdGlvbiB0eXBlXG5cdC8vVE9ETzogY2xvbmUgYXR0cmlidXRlc1xufTtcblxuVmlkZW9SZW5kZXJlci5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbigpXG57XG5cdC8vSGlkZSB2aWRlbyBvYmplY3Rcblx0dGhpcy5oaWRlKCk7XG5cdC8vVW5vYnNlcnZlciB2aWRlbyBlbGVtZW50XG5cdHZpZGVvT2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMudmlkZW8pO1xuXHQvL1JlbW92ZSBzcmNPYmplY3QgcHJvcGVydHlcblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMudmlkZW8sJ3NyY09iamVjdCcse30pO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy52aWRlbywndmlkZW9XaWR0aCcse30pO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy52aWRlbywndmlkZW9IZWlndGgnLHt9KTtcblx0Ly9kZWxldGUgb2JqZWN0LCBJRSBvbmx5IG1ldGhvZFxuXHR0aGlzLm9iamVjdC5yZW1vdmVOb2RlKGZhbHNlKTtcblx0ZGVsZXRlKHRoaXMub2JqZWN0KTtcblx0XG59O1xuXG5WaWRlb1JlbmRlcmVyLmhhbmRsZSA9IGZ1bmN0aW9uKHZpZGVvKVxue1xuXHRpZiAoIXZpZGVvLnZpZGVvUmVuZGVyZXIpXG5cdFx0dmlkZW8udmlkZW9SZW5kZXJlciA9IG5ldyBWaWRlb1JlbmRlcmVyKHZpZGVvKTtcbn07XG5cblZpZGVvUmVuZGVyZXIudW5oYW5kbGUgPSBmdW5jdGlvbih2aWRlbylcbntcblx0aWYgKHZpZGVvLnZpZGVvUmVuZGVyZXIpXG5cdHtcblx0XHR2aWRlby52aWRlb1JlbmRlci5jbG9zZSgpO1xuXHRcdGRlbGV0ZSh2aWRlby52aWRlb1JlbmRlcmVyKTtcblx0fVxufTtcblxuVmlkZW9SZW5kZXJlci5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uKClcbntcblx0Ly9DaGVjayBvYmplY3QgaXMgbm90IHNob3duXG5cdGlmICh0aGlzLnZpZGVvIT09dGhpcy5vYmplY3QucGFyZW50RWxlbWVudClcblx0XHQvL05vdGhpbmdcblx0XHRyZXR1cm47XG5cdC8vU3dhcCB0aGVtXG5cdHRoaXMudmlkZW8ucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQodGhpcy5vYmplY3QsdGhpcy52aWRlbyk7XG5cdHRoaXMub2JqZWN0LmFwcGVuZENoaWxkKHRoaXMudmlkZW8pO1xufTtcblxuVmlkZW9SZW5kZXJlci5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uKClcbntcblx0Ly9DaGVjayBvYmplY3QgaXMgbm90IHNob3duXG5cdGlmICh0aGlzLm9iamVjdCE9PXRoaXMudmlkZW8ucGFyZW50RWxlbWVudClcblx0XHQvL05vdGhpbmdcblx0XHRyZXR1cm47XG5cdC8vU3dhcCB0aGVtXG5cdHRoaXMub2JqZWN0LnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKHRoaXMudmlkZW8sdGhpcy5vYmplY3QpO1xuXHR0aGlzLnZpZGVvLmFwcGVuZENoaWxkKHRoaXMub2JqZWN0KTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gVmlkZW9SZW5kZXJlcjsiXX0=
},{}],9:[function(require,module,exports){
"use strict";

// Create singleton
var WebRTCProxy = new ActiveXObject("Cosmo.WebRTCProxy.1");

module.exports = WebRTCProxy;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIldlYlJUQ1Byb3h5LmpzIl0sIm5hbWVzIjpbIldlYlJUQ1Byb3h5IiwiQWN0aXZlWE9iamVjdCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUE7QUFDQSxJQUFJQSxjQUFjLElBQUlDLGFBQUosQ0FBa0IscUJBQWxCLENBQWxCOztBQUVBQyxPQUFPQyxPQUFQLEdBQWlCSCxXQUFqQiIsImZpbGUiOiJXZWJSVENQcm94eS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIENyZWF0ZSBzaW5nbGV0b25cbnZhciBXZWJSVENQcm94eSA9IG5ldyBBY3RpdmVYT2JqZWN0KFwiQ29zbW8uV2ViUlRDUHJveHkuMVwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBXZWJSVENQcm94eTsiXX0=
},{}],10:[function(require,module,exports){
/**
 * @author Toru Nagashima <https://github.com/mysticatea>
 * @copyright 2017 Toru Nagashima. All rights reserved.
 * See LICENSE file in root directory for full license.
 */(function(a,b){'object'==typeof exports&&'undefined'!=typeof module?b(exports):'function'==typeof define&&define.amd?define(['exports'],b):b(a.EventTargetShim={})})(this,function(a){'use strict';function b(a){var b=s.get(a);return console.assert(null!=b,'\'this\' is expected an Event object, but got',a),b}function c(a,b){s.set(this,{eventTarget:a,event:b,eventPhase:2,currentTarget:a,canceled:!1,stopped:!1,passiveListener:null,timeStamp:b.timeStamp||Date.now()}),Object.defineProperty(this,'isTrusted',{value:!1,enumerable:!0});for(var c,e=Object.keys(b),f=0;f<e.length;++f)c=e[f],c in this||Object.defineProperty(this,c,d(c))}function d(a){return{get:function(){return b(this).event[a]},set:function(c){b(this).event[a]=c},configurable:!0,enumerable:!0}}function e(a){return{value:function(){var c=b(this).event;return c[a].apply(c,arguments)},configurable:!0,enumerable:!0}}function f(a,b){function c(b,c){a.call(this,b,c)}var f=Object.keys(b);if(0===f.length)return a;c.prototype=Object.create(a.prototype,{constructor:{value:c,configurable:!0,writable:!0}});for(var g,h=0;h<f.length;++h)if(g=f[h],!(g in a.prototype)){var i=Object.getOwnPropertyDescriptor(b,g),j='function'==typeof i.value;Object.defineProperty(c.prototype,g,j?e(g):d(g))}return c}function g(a){if(null==a||a===Object.prototype)return c;var b=t.get(a);return null==b&&(b=f(g(Object.getPrototypeOf(a)),a),t.set(a,b)),b}function h(a,b){var c=g(Object.getPrototypeOf(b));return new c(a,b)}function i(a){return b(a).stopped}function j(a,c){b(a).eventPhase=c}function k(a,c){b(a).currentTarget=c}function l(a,c){b(a).passiveListener=c}function m(a){return null!==a&&'object'===('undefined'==typeof a?'undefined':u(a))}function n(a){var b=v.get(a);return console.assert(null!=b,'\'this\' is expected an EventTarget object, but got',a),b||new Map}function o(a){return{get:function(){for(var b=n(this),c=b.get(a);null!=c;){if(c.listenerType===y)return c.listener;c=c.next}return null},set:function(b){'function'==typeof b||m(b)||(b=null);for(var c=n(this),d=null,e=c.get(a);null!=e;)e.listenerType===y?null==d?null===e.next?c.delete(a):c.set(a,e.next):d.next=e.next:d=e,e=e.next;if(null!==b){var f={listener:b,listenerType:y,passive:!1,once:!1,next:null};null===d?c.set(a,f):d.next=f}},configurable:!0,enumerable:!0}}function p(a,b){Object.defineProperty(a,'on'+b,o(b))}function q(a){function b(){r.call(this)}b.prototype=Object.create(r.prototype,{constructor:{value:b,configurable:!0,writable:!0}});for(var c=0;c<a.length;++c)p(b.prototype,a[c]);return b}function r(){if(this instanceof r)return void v.set(this,new Map);if(1===arguments.length&&Array.isArray(arguments[0]))return q(arguments[0]);if(0<arguments.length){for(var a=Array(arguments.length),b=0;b<arguments.length;++b)a[b]=arguments[b];return q(a)}throw new TypeError('Cannot call a class as a function')}var s=new WeakMap,t=new WeakMap;c.prototype={get type(){return b(this).event.type},get target(){return b(this).eventTarget},get currentTarget(){return b(this).currentTarget},composedPath:function(){var a=b(this).currentTarget;return null==a?[]:[a]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return b(this).eventPhase},stopPropagation:function(){var a=b(this);'function'==typeof a.event.stopPropagation&&a.event.stopPropagation()},stopImmediatePropagation:function(){var a=b(this);a.stopped=!0,'function'==typeof a.event.stopImmediatePropagation&&a.event.stopImmediatePropagation()},get bubbles(){return!!b(this).event.bubbles},get cancelable(){return!!b(this).event.cancelable},preventDefault:function(){var a=b(this);return null==a.passiveListener?void(!a.event.cancelable||(a.canceled=!0,'function'==typeof a.event.preventDefault&&a.event.preventDefault())):void console.warn('Event#preventDefault() was called from a passive listener:',a.passiveListener)},get defaultPrevented(){return b(this).canceled},get composed(){return!!b(this).event.composed},get timeStamp(){return b(this).timeStamp}},Object.defineProperty(c.prototype,'constructor',{value:c,configurable:!0,writable:!0}),'undefined'!=typeof window&&'undefined'!=typeof window.Event&&(Object.setPrototypeOf(c.prototype,window.Event.prototype),t.set(window.Event.prototype,c));var u='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a},v=new WeakMap,w=1,x=2,y=3;if(r.prototype={addEventListener:function(a,b,c){if(null==b)return!1;if('function'!=typeof b&&!m(b))throw new TypeError('\'listener\' should be a function or an object.');var d=n(this),e=m(c),f=e?!!c.capture:!!c,g=f?w:x,h={listener:b,listenerType:g,passive:e&&!!c.passive,once:e&&!!c.once,next:null},i=d.get(a);if(void 0===i)return d.set(a,h),!0;for(var j=null;null!=i;){if(i.listener===b&&i.listenerType===g)return!1;j=i,i=i.next}return j.next=h,!0},removeEventListener:function(a,b,c){if(null==b)return!1;for(var d=n(this),e=m(c)?!!c.capture:!!c,f=e?w:x,g=null,h=d.get(a);null!=h;){if(h.listener===b&&h.listenerType===f)return null==g?null===h.next?d.delete(a):d.set(a,h.next):g.next=h.next,!0;g=h,h=h.next}return!1},dispatchEvent:function(a){if(null==a||'string'!=typeof a.type)throw new TypeError('"event.type" should be a string.');var b=n(this),c=a.type,d=b.get(c);if(null==d)return!0;for(var e=h(this,a),f=null;null!=d&&(d.once?null==f?null===d.next?b.delete(c):b.set(c,d.next):f.next=d.next:f=d,l(e,d.passive?d.listener:null),'function'==typeof d.listener?d.listener.call(this,e):d.listenerType!==y&&'function'==typeof d.listener.handleEvent&&d.listener.handleEvent(e),!i(e));)d=d.next;return l(e,null),j(e,0),k(e,null),!e.defaultPrevented}},Object.defineProperty(r.prototype,'constructor',{value:r,configurable:!0,writable:!0}),'undefined'!=typeof window&&'undefined'!=typeof window.EventTarget&&Object.setPrototypeOf(r.prototype,window.EventTarget.prototype),a.defineEventAttribute=p,a.EventTarget=r,a['default']=r,Object.defineProperty(a,'__esModule',{value:!0}),'undefined'==typeof module&&'undefined'==typeof define){const a=Function('return this');a.EventTargetShim=r,a.EventTargetShim.defineEventAttribute=p}});
//# sourceMappingURL=event-target-shim.umd.js.map

},{}],11:[function(require,module,exports){
(function (root) {

  // Store setTimeout reference so promise-polyfill will be unaffected by
  // other code modifying setTimeout (like sinon.useFakeTimers())
  var setTimeoutFunc = setTimeout;

  function noop() {}
  
  // Polyfill for Function.prototype.bind
  function bind(fn, thisArg) {
    return function () {
      fn.apply(thisArg, arguments);
    };
  }

  function Promise(fn) {
    if (!(this instanceof Promise)) throw new TypeError('Promises must be constructed via new');
    if (typeof fn !== 'function') throw new TypeError('not a function');
    this._state = 0;
    this._handled = false;
    this._value = undefined;
    this._deferreds = [];

    doResolve(fn, this);
  }

  function handle(self, deferred) {
    while (self._state === 3) {
      self = self._value;
    }
    if (self._state === 0) {
      self._deferreds.push(deferred);
      return;
    }
    self._handled = true;
    Promise._immediateFn(function () {
      var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;
      if (cb === null) {
        (self._state === 1 ? resolve : reject)(deferred.promise, self._value);
        return;
      }
      var ret;
      try {
        ret = cb(self._value);
      } catch (e) {
        reject(deferred.promise, e);
        return;
      }
      resolve(deferred.promise, ret);
    });
  }

  function resolve(self, newValue) {
    try {
      // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure
      if (newValue === self) throw new TypeError('A promise cannot be resolved with itself.');
      if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {
        var then = newValue.then;
        if (newValue instanceof Promise) {
          self._state = 3;
          self._value = newValue;
          finale(self);
          return;
        } else if (typeof then === 'function') {
          doResolve(bind(then, newValue), self);
          return;
        }
      }
      self._state = 1;
      self._value = newValue;
      finale(self);
    } catch (e) {
      reject(self, e);
    }
  }

  function reject(self, newValue) {
    self._state = 2;
    self._value = newValue;
    finale(self);
  }

  function finale(self) {
    if (self._state === 2 && self._deferreds.length === 0) {
      Promise._immediateFn(function() {
        if (!self._handled) {
          Promise._unhandledRejectionFn(self._value);
        }
      });
    }

    for (var i = 0, len = self._deferreds.length; i < len; i++) {
      handle(self, self._deferreds[i]);
    }
    self._deferreds = null;
  }

  function Handler(onFulfilled, onRejected, promise) {
    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;
    this.onRejected = typeof onRejected === 'function' ? onRejected : null;
    this.promise = promise;
  }

  /**
   * Take a potentially misbehaving resolver function and make sure
   * onFulfilled and onRejected are only called once.
   *
   * Makes no guarantees about asynchrony.
   */
  function doResolve(fn, self) {
    var done = false;
    try {
      fn(function (value) {
        if (done) return;
        done = true;
        resolve(self, value);
      }, function (reason) {
        if (done) return;
        done = true;
        reject(self, reason);
      });
    } catch (ex) {
      if (done) return;
      done = true;
      reject(self, ex);
    }
  }

  Promise.prototype['catch'] = function (onRejected) {
    return this.then(null, onRejected);
  };

  Promise.prototype.then = function (onFulfilled, onRejected) {
    var prom = new (this.constructor)(noop);

    handle(this, new Handler(onFulfilled, onRejected, prom));
    return prom;
  };

  Promise.all = function (arr) {
    return new Promise(function (resolve, reject) {
      if (!arr || typeof arr.length === 'undefined') throw new TypeError('Promise.all accepts an array');
      var args = Array.prototype.slice.call(arr);
      if (args.length === 0) return resolve([]);
      var remaining = args.length;

      function res(i, val) {
        try {
          if (val && (typeof val === 'object' || typeof val === 'function')) {
            var then = val.then;
            if (typeof then === 'function') {
              then.call(val, function (val) {
                res(i, val);
              }, reject);
              return;
            }
          }
          args[i] = val;
          if (--remaining === 0) {
            resolve(args);
          }
        } catch (ex) {
          reject(ex);
        }
      }

      for (var i = 0; i < args.length; i++) {
        res(i, args[i]);
      }
    });
  };

  Promise.resolve = function (value) {
    if (value && typeof value === 'object' && value.constructor === Promise) {
      return value;
    }

    return new Promise(function (resolve) {
      resolve(value);
    });
  };

  Promise.reject = function (value) {
    return new Promise(function (resolve, reject) {
      reject(value);
    });
  };

  Promise.race = function (values) {
    return new Promise(function (resolve, reject) {
      for (var i = 0, len = values.length; i < len; i++) {
        values[i].then(resolve, reject);
      }
    });
  };

  // Use polyfill for setImmediate for performance gains
  Promise._immediateFn = (typeof setImmediate === 'function' && function (fn) { setImmediate(fn); }) ||
    function (fn) {
      setTimeoutFunc(fn, 0);
    };

  Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {
    if (typeof console !== 'undefined' && console) {
      console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console
    }
  };

  /**
   * Set the immediate function to execute callbacks
   * @param fn {function} Function to execute
   * @deprecated
   */
  Promise._setImmediateFn = function _setImmediateFn(fn) {
    Promise._immediateFn = fn;
  };

  /**
   * Change the function to execute on unhandled rejection
   * @param {function} fn Function to execute on unhandled rejection
   * @deprecated
   */
  Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {
    Promise._unhandledRejectionFn = fn;
  };
  
  if (typeof module !== 'undefined' && module.exports) {
    module.exports = Promise;
  } else if (!root.Promise) {
    root.Promise = Promise;
  }

})(this);

},{}]},{},[1])(1)
});